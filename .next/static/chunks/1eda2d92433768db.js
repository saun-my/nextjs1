(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71141,e=>{"use strict";var s=e.i(10735);let t=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["ClockIcon",0,t],71141)},24376,e=>{"use strict";var s=e.i(10735);let t=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))});e.s(["FireIcon",0,t],24376)},14604,e=>{"use strict";var s=e.i(10735);let t=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))});e.s(["TrophyIcon",0,t],14604)},3477,e=>{"use strict";var s=e.i(53900),t=e.i(10735),a=e.i(11325),r=e.i(77401),i=e.i(66814),l=e.i(8962),n=e.i(46287),d=e.i(75051),o=e.i(63449),c=e.i(51679),m=e.i(62994),x=e.i(58460),h=e.i(16590),u=e.i(35038),g=e.i(71141),p=e.i(14604),j=e.i(24588),y=e.i(24376);function b({userId:e,timeRange:b="30d"}){let[f,v]=(0,t.useState)([]),[w,N]=(0,t.useState)([]),[_,k]=(0,t.useState)(null),[M,S]=(0,t.useState)(null),[C,T]=(0,t.useState)("lessons_completed"),[D,A]=(0,t.useState)("area"),[$,z]=(0,t.useState)(!0),B=e=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(new Date().getDay()+e)%7],L=e=>0===e?"12a":e<12?`${e}a`:12===e?"12p":`${e-12}p`;(0,t.useEffect)(()=>{z(!0),(async()=>{try{await new Promise(e=>setTimeout(e,1e3));let s=(e=>{let s=[],t=new Date;for(let a=e-1;a>=0;a--){let r=new Date(t);r.setDate(r.getDate()-a);let i=r.getDay(),l=0===i||6===i?.6:1,n=1+(e-a)*.002,d=.8+.4*Math.random();s.push({date:r.toISOString().split("T")[0],lessons_completed:Math.round((3+5*Math.random())*l*n*d),study_time_minutes:Math.round((45+60*Math.random())*l*n*d),quiz_scores:Math.round((75+20*Math.random())*d),streak_days:Math.min(30,Math.round((e-a)*.8)),courses_started:Math.round(.3*Math.random()),achievements_earned:Math.round(.5*Math.random())})}return s})("7d"===b?7:"30d"===b?30:"90d"===b?90:365),t=(()=>{let e=[],s=new Date;for(let t=0;t<7;t++){let a=new Date(s);a.setDate(a.getDate()-t);for(let s=0;s<24;s++){let r=0;r=s>=8&&s<=12?80:s>=14&&s<=18?70:s>=19&&s<=22?60:10;let i=a.getDay(),l=0===i||6===i?.5:1;e.push({hour:s,day:6-t,value:Math.round((r+20*Math.random())*l),date:a.toISOString().split("T")[0]})}}return e})();v(s),N(t),k({user_id:e,course_progress:[],overall_stats:{total_courses_completed:Math.round(.1*s.length),total_lessons_completed:s.reduce((e,s)=>e+s.lessons_completed,0),total_study_time_hours:Math.round(s.reduce((e,s)=>e+s.study_time_minutes,0)/60),average_score:Math.round(s.reduce((e,s)=>e+s.quiz_scores,0)/s.length),current_streak:Math.max(...s.map(e=>e.streak_days)),longest_streak:Math.max(...s.map(e=>e.streak_days))},achievements:[],learning_streak:Math.max(...s.map(e=>e.streak_days)),last_study_date:new Date}),S({total_courses_completed:Math.round(.1*s.length),total_lessons_completed:s.reduce((e,s)=>e+s.lessons_completed,0),total_study_time_hours:Math.round(s.reduce((e,s)=>e+s.study_time_minutes,0)/60),current_streak:Math.max(...s.map(e=>e.streak_days)),longest_streak:Math.max(...s.map(e=>e.streak_days)),average_score:Math.round(s.reduce((e,s)=>e+s.quiz_scores,0)/s.length)})}catch(e){console.error("Failed to load analytics data:",e)}finally{z(!1)}})()},[e,b]);let I=(e,s)=>{if(e.length<2)return 0;let t=e.slice(-7).reduce((e,t)=>e+t[s],0)/7,a=e.slice(-14,-7).reduce((e,t)=>e+t[s],0)/7;return a>0?(t-a)/a*100:0};if($)return(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})})});let F={lessons:I(f,"lessons_completed"),studyTime:I(f,"study_time_minutes"),quizScores:I(f,"quiz_scores")};return(0,s.jsxs)("div",{className:"w-full space-y-6",children:[M&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"æ€»å­¦ä¹ æ—¶é—´"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[M.total_study_time_hours,"h"]})]}),(0,s.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,s.jsx)(g.ClockIcon,{className:"h-6 w-6 text-blue-600"})})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("span",{className:`text-sm ${F.studyTime>=0?"text-green-600":"text-red-600"}`,children:[F.studyTime>=0?"â†—":"â†˜"," ",Math.abs(F.studyTime).toFixed(1),"%"]}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last week"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"å®Œæˆè¯¾ç¨‹"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:M.total_courses_completed})]}),(0,s.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,s.jsx)(u.BookOpenIcon,{className:"h-6 w-6 text-green-600"})})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"æŒç»­å­¦ä¹ ä¸­"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"å½“å‰è¿žèƒœ"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[M.current_streak,"å¤©"]})]}),(0,s.jsx)("div",{className:"bg-orange-100 p-3 rounded-lg",children:(0,s.jsx)(y.FireIcon,{className:"h-6 w-6 text-orange-600"})})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"ä¿æŒå­¦ä¹ èŠ‚å¥"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"å¹³å‡æµ‹éªŒåˆ†æ•°"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[M.average_score,"%"]})]}),(0,s.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg",children:(0,s.jsx)(p.TrophyIcon,{className:"h-6 w-6 text-purple-600"})})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("span",{className:`text-sm ${F.quizScores>=0?"text-green-600":"text-red-600"}`,children:[F.quizScores>=0?"â†—":"â†˜"," ",Math.abs(F.quizScores).toFixed(1),"%"]}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last week"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Learning Trends"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"lessons_completed",label:"Lessons",icon:u.BookOpenIcon},{key:"study_time_minutes",label:"Study Time",icon:g.ClockIcon},{key:"quiz_scores",label:"Quiz Scores",icon:p.TrophyIcon}].map(({key:e,label:t,icon:a})=>(0,s.jsxs)("button",{onClick:()=>T(e),className:`flex items-center space-x-1 px-3 py-1 text-xs rounded-md transition-colors ${C===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,s.jsx)(a,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:t})]},e))}),(0,s.jsx)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{type:"area",icon:"ðŸ“Š"},{type:"line",icon:"ðŸ“ˆ"},{type:"bar",icon:"ðŸ“Š"}].map(({type:e,icon:t})=>(0,s.jsx)("button",{onClick:()=>A(e),className:`px-2 py-1 text-xs rounded-md transition-colors ${D===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:`åˆ‡æ¢åˆ°${"area"===e?"é¢ç§¯å›¾":"line"===e?"æŠ˜çº¿å›¾":"æŸ±çŠ¶å›¾"}`,children:t},e))})]})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(h.ResponsiveContainer,{width:"100%",height:300,children:(()=>{let e={data:f,margin:{top:5,right:30,left:20,bottom:5}};switch(D){case"line":return(0,s.jsxs)(a.LineChart,{...e,children:[(0,s.jsx)(m.CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(o.XAxis,{dataKey:"date",stroke:"#6b7280",fontSize:12}),(0,s.jsx)(c.YAxis,{stroke:"#6b7280",fontSize:12}),(0,s.jsx)(x.Tooltip,{formatter:(e,s)=>["study_time_minutes"===s?`${Math.round(e)} min`:e,s.replace("_"," ")]}),(0,s.jsx)(r.Line,{type:"monotone",dataKey:C,stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},animationDuration:1e3})]});case"bar":return(0,s.jsxs)(n.BarChart,{...e,children:[(0,s.jsx)(m.CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(o.XAxis,{dataKey:"date",stroke:"#6b7280",fontSize:12}),(0,s.jsx)(c.YAxis,{stroke:"#6b7280",fontSize:12}),(0,s.jsx)(x.Tooltip,{formatter:(e,s)=>["study_time_minutes"===s?`${Math.round(e)} min`:e,s.replace("_"," ")]}),(0,s.jsx)(d.Bar,{dataKey:C,fill:"#3B82F6",radius:[4,4,0,0],animationDuration:1e3})]});default:return(0,s.jsxs)(i.AreaChart,{...e,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"learningGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),(0,s.jsx)(m.CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(o.XAxis,{dataKey:"date",stroke:"#6b7280",fontSize:12}),(0,s.jsx)(c.YAxis,{stroke:"#6b7280",fontSize:12}),(0,s.jsx)(x.Tooltip,{formatter:(e,s)=>["study_time_minutes"===s?`${Math.round(e)} min`:e,s.replace("_"," ")]}),(0,s.jsx)(l.Area,{type:"monotone",dataKey:C,stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#learningGradient)",animationDuration:1e3})]})}})()})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Study Activity Heatmap"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Your learning activity patterns throughout the week"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j.CalendarIcon,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Last 7 days"})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("div",{className:"grid grid-cols-25 gap-1 min-w-max",children:[(0,s.jsx)("div",{className:"col-span-1"}),Array.from({length:24},(e,t)=>(0,s.jsx)("div",{className:"text-xs text-gray-500 text-center w-4",children:t%4==0?L(t):""},t)),Array.from({length:7},(e,t)=>(0,s.jsxs)("div",{className:"contents",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 text-right pr-2 w-12",children:B(t)}),Array.from({length:24},(e,a)=>{let r=w.find(e=>e.day===t&&e.hour===a),i=r?.value||0;return(0,s.jsx)("div",{className:`w-4 h-4 rounded-sm ${0===i?"bg-gray-100":i<20?"bg-blue-200":i<40?"bg-blue-300":i<60?"bg-green-400":i<80?"bg-yellow-400":"bg-red-400"} 
                                   hover:ring-2 hover:ring-blue-400 hover:ring-opacity-50 
                                   transition-all cursor-pointer`,title:`${B(t)} ${L(a)}: ${i} minutes`},`${t}-${a}`)})]},t))]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4 text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Less"}),(0,s.jsx)("div",{className:"flex space-x-1",children:["bg-gray-100","bg-blue-200","bg-blue-300","bg-green-400","bg-yellow-400","bg-red-400"].map((e,t)=>(0,s.jsx)("div",{className:`w-3 h-3 rounded ${e}`},t))}),(0,s.jsx)("span",{children:"More"})]})]})]})]})}e.s(["default",()=>b])}]);