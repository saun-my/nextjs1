module.exports=[32821,(a,b,c)=>{"use strict";c.parse=function(a,b){if("string"!=typeof a)throw TypeError("argument str must be a string");var c={},d=a.length;if(d<2)return c;var e=b&&b.decode||k,f=0,g=0,h=0;do{if(-1===(g=a.indexOf("=",f)))break;if(-1===(h=a.indexOf(";",f)))h=d;else if(g>h){f=a.lastIndexOf(";",g-1)+1;continue}var l=i(a,f,g),m=j(a,g,l),n=a.slice(l,m);if(!c.hasOwnProperty(n)){var o=i(a,g+1,h),p=j(a,h,o);34===a.charCodeAt(o)&&34===a.charCodeAt(p-1)&&(o++,p--);var q=a.slice(o,p);c[n]=function(a,b){try{return b(a)}catch(b){return a}}(q,e)}f=h+1}while(f<d)return c},c.serialize=function(a,b,c){var i=c&&c.encode||encodeURIComponent;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var j=i(b);if(!f.test(j))throw TypeError("argument val is invalid");var k=a+"="+j;if(!c)return k;if(null!=c.maxAge){var l=Math.floor(c.maxAge);if(!isFinite(l))throw TypeError("option maxAge is invalid");k+="; Max-Age="+l}if(c.domain){if(!g.test(c.domain))throw TypeError("option domain is invalid");k+="; Domain="+c.domain}if(c.path){if(!h.test(c.path))throw TypeError("option path is invalid");k+="; Path="+c.path}if(c.expires){var m,n=c.expires;if(m=n,"[object Date]"!==d.call(m)||isNaN(n.valueOf()))throw TypeError("option expires is invalid");k+="; Expires="+n.toUTCString()}if(c.httpOnly&&(k+="; HttpOnly"),c.secure&&(k+="; Secure"),c.partitioned&&(k+="; Partitioned"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():c.priority){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return k};var d=Object.prototype.toString,e=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,f=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,g=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h=/^[\u0020-\u003A\u003D-\u007E]*$/;function i(a,b,c){do{var d=a.charCodeAt(b);if(32!==d&&9!==d)return b}while(++b<c)return c}function j(a,b,c){for(;b>c;){var d=a.charCodeAt(--b);if(32!==d&&9!==d)return b+1}return c}function k(a){return -1!==a.indexOf("%")?decodeURIComponent(a):a}},55527,(a,b,c)=>{"use strict";function d(a,b,c){if(a){for(let d of(c&&(c=c.toLowerCase()),a))if(b===d.domain?.split(":",1)[0].toLowerCase()||c===d.defaultLocale.toLowerCase()||d.locales?.some(a=>a.toLowerCase()===c))return d}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"detectDomainLocale",{enumerable:!0,get:function(){return d}})},90016,(a,b,c)=>{"use strict";function d(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removeTrailingSlash",{enumerable:!0,get:function(){return d}})},6256,(a,b,c)=>{"use strict";function d(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"parsePath",{enumerable:!0,get:function(){return d}})},18662,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(6256);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return`${b}${c}${e}${f}`}},90199,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathSuffix",{enumerable:!0,get:function(){return e}});let d=a.r(6256);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return`${c}${b}${e}${f}`}},33464,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"pathHasPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(6256);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.parsePath)(a);return c===b||c.startsWith(b+"/")}},36702,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addLocale",{enumerable:!0,get:function(){return f}});let d=a.r(18662),e=a.r(33464);function f(a,b,c,f){if(!b||b===c)return a;let g=a.toLowerCase();return!f&&((0,e.pathHasPrefix)(g,"/api")||(0,e.pathHasPrefix)(g,`/${b.toLowerCase()}`))?a:(0,d.addPathPrefix)(a,`/${b}`)}},5817,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"formatNextPathnameInfo",{enumerable:!0,get:function(){return h}});let d=a.r(90016),e=a.r(18662),f=a.r(90199),g=a.r(36702);function h(a){let b=(0,g.addLocale)(a.pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix);return(a.buildId||!a.trailingSlash)&&(b=(0,d.removeTrailingSlash)(b)),a.buildId&&(b=(0,f.addPathSuffix)((0,e.addPathPrefix)(b,`/_next/data/${a.buildId}`),"/"===a.pathname?"index.json":".json")),b=(0,e.addPathPrefix)(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:(0,f.addPathSuffix)(b,"/"):(0,d.removeTrailingSlash)(b)}},16274,(a,b,c)=>{"use strict";function d(a,b){let c;if(b?.host&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getHostname",{enumerable:!0,get:function(){return d}})},14036,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"normalizeLocalePath",{enumerable:!0,get:function(){return e}});let d=new WeakMap;function e(a,b){let c;if(!b)return{pathname:a};let e=d.get(b);e||(e=b.map(a=>a.toLowerCase()),d.set(b,e));let f=a.split("/",2);if(!f[1])return{pathname:a};let g=f[1].toLowerCase(),h=e.indexOf(g);return h<0?{pathname:a}:(c=b[h],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}},24788,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removePathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(33464);function e(a,b){if(!(0,d.pathHasPrefix)(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:`/${c}`}},84247,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getNextPathnameInfo",{enumerable:!0,get:function(){return g}});let d=a.r(14036),e=a.r(24788),f=a.r(33464);function g(a,b){let{basePath:c,i18n:g,trailingSlash:h}=b.nextConfig??{},i={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):h};c&&(0,f.pathHasPrefix)(i.pathname,c)&&(i.pathname=(0,e.removePathPrefix)(i.pathname,c),i.basePath=c);let j=i.pathname;if(i.pathname.startsWith("/_next/data/")&&i.pathname.endsWith(".json")){let a=i.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");i.buildId=a[0],j="index"!==a[1]?`/${a.slice(1).join("/")}`:"/",!0===b.parseData&&(i.pathname=j)}if(g){let a=b.i18nProvider?b.i18nProvider.analyze(i.pathname):(0,d.normalizeLocalePath)(i.pathname,g.locales);i.locale=a.detectedLocale,i.pathname=a.pathname??i.pathname,!a.detectedLocale&&i.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(j):(0,d.normalizeLocalePath)(j,g.locales)).detectedLocale&&(i.locale=a.detectedLocale)}return i}},41395,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"NextURL",{enumerable:!0,get:function(){return k}});let d=a.r(55527),e=a.r(5817),f=a.r(16274),g=a.r(84247),h=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function i(a,b){return new URL(String(a).replace(h,"localhost"),b&&String(b).replace(h,"localhost"))}let j=Symbol("NextURLInternal");class k{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[j]={url:i(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,e,h;let i=(0,g.getNextPathnameInfo)(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),k=(0,f.getHostname)(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(k):(0,d.detectDomainLocale)(null==(b=this[j].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,k);let l=(null==(c=this[j].domainLocale)?void 0:c.defaultLocale)||(null==(h=this[j].options.nextConfig)||null==(e=h.i18n)?void 0:e.defaultLocale);this[j].url.pathname=i.pathname,this[j].defaultLocale=l,this[j].basePath=i.basePath??"",this[j].buildId=i.buildId,this[j].locale=i.locale??l,this[j].trailingSlash=i.trailingSlash}formatPathname(){return(0,e.formatNextPathnameInfo)({basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash})}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(a){this[j].buildId=a}get locale(){return this[j].locale??""}set locale(a){var b,c;if(!this[j].locale||!(null==(c=this[j].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=a}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(a){this[j].url.host=a}get hostname(){return this[j].url.hostname}set hostname(a){this[j].url.hostname=a}get port(){return this[j].url.port}set port(a){this[j].url.port=a}get protocol(){return this[j].url.protocol}set protocol(a){this[j].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[j].url=i(a),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(a){this[j].url.pathname=a}get hash(){return this[j].url.hash}set hash(a){this[j].url.hash=a}get search(){return this[j].url.search}set search(a){this[j].url.search=a}get password(){return this[j].url.password}set password(a){this[j].url.password=a}get username(){return this[j].url.username}set username(a){this[j].url.username=a}get basePath(){return this[j].basePath}set basePath(a){this[j].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new k(String(this),this[j].options)}}},13865,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={ACTION_SUFFIX:function(){return r},APP_DIR_ALIAS:function(){return N},CACHE_ONE_YEAR:function(){return D},DOT_NEXT_ALIAS:function(){return L},ESLINT_DEFAULT_DIRS:function(){return af},GSP_NO_RETURNED_VALUE:function(){return _},GSSP_COMPONENT_MEMBER_ERROR:function(){return ac},GSSP_NO_RETURNED_VALUE:function(){return aa},HTML_CONTENT_TYPE_HEADER:function(){return g},INFINITE_CACHE:function(){return E},INSTRUMENTATION_HOOK_FILENAME:function(){return J},JSON_CONTENT_TYPE_HEADER:function(){return h},MATCHED_PATH_HEADER:function(){return k},MIDDLEWARE_FILENAME:function(){return F},MIDDLEWARE_LOCATION_REGEXP:function(){return G},NEXT_BODY_SUFFIX:function(){return u},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return C},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return w},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return x},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return B},NEXT_CACHE_TAGS_HEADER:function(){return v},NEXT_CACHE_TAG_MAX_ITEMS:function(){return z},NEXT_CACHE_TAG_MAX_LENGTH:function(){return A},NEXT_DATA_SUFFIX:function(){return s},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return j},NEXT_META_SUFFIX:function(){return t},NEXT_QUERY_PARAM_PREFIX:function(){return i},NEXT_RESUME_HEADER:function(){return y},NON_STANDARD_NODE_ENV:function(){return ad},PAGES_DIR_ALIAS:function(){return K},PRERENDER_REVALIDATE_HEADER:function(){return l},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return m},PROXY_FILENAME:function(){return H},PROXY_LOCATION_REGEXP:function(){return I},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return V},ROOT_DIR_ALIAS:function(){return M},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return U},RSC_ACTION_ENCRYPTION_ALIAS:function(){return T},RSC_ACTION_PROXY_ALIAS:function(){return Q},RSC_ACTION_VALIDATE_ALIAS:function(){return P},RSC_CACHE_WRAPPER_ALIAS:function(){return R},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return S},RSC_MOD_REF_PROXY_ALIAS:function(){return O},RSC_PREFETCH_SUFFIX:function(){return n},RSC_SEGMENTS_DIR_SUFFIX:function(){return o},RSC_SEGMENT_SUFFIX:function(){return p},RSC_SUFFIX:function(){return q},SERVER_PROPS_EXPORT_ERROR:function(){return $},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return X},SERVER_PROPS_SSG_CONFLICT:function(){return Y},SERVER_RUNTIME:function(){return ag},SSG_FALLBACK_EXPORT_ERROR:function(){return ae},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return W},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return Z},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return f},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ab},WEBPACK_LAYERS:function(){return aj},WEBPACK_RESOURCE_QUERIES:function(){return ak},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ah}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="text/plain",g="text/html; charset=utf-8",h="application/json; charset=utf-8",i="nxtP",j="nxtI",k="x-matched-path",l="x-prerender-revalidate",m="x-prerender-revalidate-if-generated",n=".prefetch.rsc",o=".segments",p=".segment.rsc",q=".rsc",r=".action",s=".json",t=".meta",u=".body",v="x-next-cache-tags",w="x-next-revalidated-tags",x="x-next-revalidate-tag-token",y="next-resume",z=128,A=256,B=1024,C="_N_T_",D=31536e3,E=0xfffffffe,F="middleware",G=`(?:src/)?${F}`,H="proxy",I=`(?:src/)?${H}`,J="instrumentation",K="private-next-pages",L="private-dot-next",M="private-next-root-dir",N="private-next-app-dir",O="private-next-rsc-mod-ref-proxy",P="private-next-rsc-action-validate",Q="private-next-rsc-server-reference",R="private-next-rsc-cache-wrapper",S="private-next-rsc-track-dynamic-import",T="private-next-rsc-action-encryption",U="private-next-rsc-action-client-wrapper",V="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",W="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",X="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",Y="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",Z="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",$="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",_="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",aa="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ab="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",ac="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",ad='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ae="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",af=["app","pages","components","lib","src"],ag={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ah=12,ai={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},aj={...ai,GROUP:{builtinReact:[ai.reactServerComponents,ai.actionBrowser],serverOnly:[ai.reactServerComponents,ai.actionBrowser,ai.instrument,ai.middleware],neutralTarget:[ai.apiNode,ai.apiEdge],clientOnly:[ai.serverSideRendering,ai.appPagesBrowser],bundled:[ai.reactServerComponents,ai.actionBrowser,ai.serverSideRendering,ai.appPagesBrowser,ai.shared,ai.instrument,ai.middleware],appPages:[ai.reactServerComponents,ai.serverSideRendering,ai.appPagesBrowser,ai.actionBrowser]}},ak={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},40376,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={fromNodeOutgoingHttpHeaders:function(){return g},normalizeNextQueryParam:function(){return k},splitCookiesString:function(){return h},toNodeOutgoingHttpHeaders:function(){return i},validateURL:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(13865);function g(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}function h(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function i(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...h(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function j(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function k(a){for(let b of[f.NEXT_QUERY_PARAM_PREFIX,f.NEXT_INTERCEPTION_MARKER_PREFIX])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}},65999,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={PageSignatureError:function(){return f},RemovedPageError:function(){return g},RemovedUAError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});class f extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class g extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class h extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},13256,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={RequestCookies:function(){return f.RequestCookies},ResponseCookies:function(){return f.ResponseCookies},stringifyCookie:function(){return f.stringifyCookie}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(57207)},4195,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={INTERNALS:function(){return j},NextRequest:function(){return k}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(41395),g=a.r(40376),h=a.r(65999),i=a.r(13256),j=Symbol("internal request");class k extends Request{constructor(a,b={}){const c="string"!=typeof a&&"url"in a?a.url:String(a);(0,g.validateURL)(c),b.body&&"half"!==b.duplex&&(b.duplex="half"),a instanceof Request?super(a,b):super(c,b);const d=new f.NextURL(c,{headers:(0,g.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:b.nextConfig});this[j]={cookies:new i.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[j].cookies}get nextUrl(){return this[j].nextUrl}get page(){throw new h.RemovedPageError}get ua(){throw new h.RemovedUAError}get url(){return this[j].url}}},92708,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReflectAdapter",{enumerable:!0,get:function(){return d}});class d{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}},2131,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"NextResponse",{enumerable:!0,get:function(){return l}});let d=a.r(13256),e=a.r(41395),f=a.r(40376),g=a.r(92708),h=a.r(13256),i=Symbol("internal response"),j=new Set([301,302,303,307,308]);function k(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class l extends Response{constructor(a,b={}){super(a,b);const c=this.headers,j=new Proxy(new h.ResponseCookies(c),{get(a,e,f){switch(e){case"delete":case"set":return(...f)=>{let g=Reflect.apply(a[e],a,f),i=new Headers(c);return g instanceof h.ResponseCookies&&c.set("x-middleware-set-cookie",g.getAll().map(a=>(0,d.stringifyCookie)(a)).join(",")),k(b,i),g};default:return g.ReflectAdapter.get(a,e,f)}}});this[i]={cookies:j,url:b.url?new e.NextURL(b.url,{headers:(0,f.toNodeOutgoingHttpHeaders)(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[i].cookies}static json(a,b){let c=Response.json(a,b);return new l(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!j.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",(0,f.validateURL)(a)),new l(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",(0,f.validateURL)(a)),k(b,c),new l(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),k(a,b),new l(null,{...a,headers:b})}}},38695,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ImageResponse",{enumerable:!0,get:function(){return d}})},37373,(a,b,c)=>{var d={226:function(b,c){!function(d,e){"use strict";var f="function",g="undefined",h="object",i="string",j="major",k="model",l="name",m="type",n="vendor",o="version",p="architecture",q="console",r="mobile",s="tablet",t="smarttv",u="wearable",v="embedded",w="Amazon",x="Apple",y="ASUS",z="BlackBerry",A="Browser",B="Chrome",C="Firefox",D="Google",E="Huawei",F="Microsoft",G="Motorola",H="Opera",I="Samsung",J="Sharp",K="Sony",L="Xiaomi",M="Zebra",N="Facebook",O="Chromium OS",P="Mac OS",Q=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},R=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},S=function(a,b){return typeof a===i&&-1!==T(b).indexOf(T(a))},T=function(a){return a.toLowerCase()},U=function(a,b){if(typeof a===i)return a=a.replace(/^\s\s*/,""),typeof b===g?a:a.substring(0,350)},V=function(a,b){for(var c,d,e,g,i,j,k=0;k<b.length&&!i;){var l=b[k],m=b[k+1];for(c=d=0;c<l.length&&!i&&l[c];)if(i=l[c++].exec(a))for(e=0;e<m.length;e++)j=i[++d],typeof(g=m[e])===h&&g.length>0?2===g.length?typeof g[1]==f?this[g[0]]=g[1].call(this,j):this[g[0]]=g[1]:3===g.length?typeof g[1]!==f||g[1].exec&&g[1].test?this[g[0]]=j?j.replace(g[1],g[2]):void 0:this[g[0]]=j?g[1].call(this,j,g[2]):void 0:4===g.length&&(this[g[0]]=j?g[3].call(this,j.replace(g[1],g[2])):void 0):this[g]=j||void 0;k+=2}},W=function(a,b){for(var c in b)if(typeof b[c]===h&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(S(b[c][d],a))return"?"===c?void 0:c}else if(S(b[c],a))return"?"===c?void 0:c;return a},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[o,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[o,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,o],[/opios[\/ ]+([\w\.]+)/i],[o,[l,H+" Mini"]],[/\bopr\/([\w\.]+)/i],[o,[l,H]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,o],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[o,[l,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[o,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[o,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[o,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[o,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[o,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+A],o],[/\bfocus\/([\w\.]+)/i],[o,[l,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[o,[l,H+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[o,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[o,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[o,[l,H+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[o,[l,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[o,[l,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+A],o],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],o],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[l,o],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,N],o],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[l,o],[/\bgsa\/([\w\.]+) .*safari\//i],[o,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[o,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[o,[l,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,B+" WebView"],o],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[o,[l,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,o],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[o,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[o,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[o,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,o],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],o],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[o,[l,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[l,o],[/(cobalt)\/([\w\.]+)/i],[l,[o,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,T]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",T]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,T]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[k,[n,I],[m,s]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[k,[n,I],[m,r]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[k,[n,x],[m,r]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[k,[n,x],[m,s]],[/(macintosh);/i],[k,[n,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[k,[n,J],[m,r]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[k,[n,E],[m,s]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[k,[n,E],[m,r]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[k,/_/g," "],[n,L],[m,r]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[k,/_/g," "],[n,L],[m,s]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[k,[n,"OPPO"],[m,r]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[k,[n,"Vivo"],[m,r]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[k,[n,"Realme"],[m,r]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[k,[n,G],[m,r]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[k,[n,G],[m,s]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[k,[n,"LG"],[m,s]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[k,[n,"LG"],[m,r]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[k,[n,"Lenovo"],[m,s]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[k,/_/g," "],[n,"Nokia"],[m,r]],[/(pixel c)\b/i],[k,[n,D],[m,s]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[k,[n,D],[m,r]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[k,[n,K],[m,r]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[k,"Xperia Tablet"],[n,K],[m,s]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[k,[n,"OnePlus"],[m,r]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[k,[n,w],[m,s]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[k,/(.+)/g,"Fire Phone $1"],[n,w],[m,r]],[/(playbook);[-\w\),; ]+(rim)/i],[k,n,[m,s]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[k,[n,z],[m,r]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[k,[n,y],[m,s]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[k,[n,y],[m,r]],[/(nexus 9)/i],[k,[n,"HTC"],[m,s]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[n,[k,/_/g," "],[m,r]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[k,[n,"Acer"],[m,s]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[k,[n,"Meizu"],[m,r]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[n,k,[m,r]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[n,k,[m,s]],[/(surface duo)/i],[k,[n,F],[m,s]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[k,[n,"Fairphone"],[m,r]],[/(u304aa)/i],[k,[n,"AT&T"],[m,r]],[/\bsie-(\w*)/i],[k,[n,"Siemens"],[m,r]],[/\b(rct\w+) b/i],[k,[n,"RCA"],[m,s]],[/\b(venue[\d ]{2,7}) b/i],[k,[n,"Dell"],[m,s]],[/\b(q(?:mv|ta)\w+) b/i],[k,[n,"Verizon"],[m,s]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[k,[n,"Barnes & Noble"],[m,s]],[/\b(tm\d{3}\w+) b/i],[k,[n,"NuVision"],[m,s]],[/\b(k88) b/i],[k,[n,"ZTE"],[m,s]],[/\b(nx\d{3}j) b/i],[k,[n,"ZTE"],[m,r]],[/\b(gen\d{3}) b.+49h/i],[k,[n,"Swiss"],[m,r]],[/\b(zur\d{3}) b/i],[k,[n,"Swiss"],[m,s]],[/\b((zeki)?tb.*\b) b/i],[k,[n,"Zeki"],[m,s]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[n,"Dragon Touch"],k,[m,s]],[/\b(ns-?\w{0,9}) b/i],[k,[n,"Insignia"],[m,s]],[/\b((nxa|next)-?\w{0,9}) b/i],[k,[n,"NextBook"],[m,s]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[n,"Voice"],k,[m,r]],[/\b(lvtel\-)?(v1[12]) b/i],[[n,"LvTel"],k,[m,r]],[/\b(ph-1) /i],[k,[n,"Essential"],[m,r]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[k,[n,"Envizen"],[m,s]],[/\b(trio[-\w\. ]+) b/i],[k,[n,"MachSpeed"],[m,s]],[/\btu_(1491) b/i],[k,[n,"Rotor"],[m,s]],[/(shield[\w ]+) b/i],[k,[n,"Nvidia"],[m,s]],[/(sprint) (\w+)/i],[n,k,[m,r]],[/(kin\.[onetw]{3})/i],[[k,/\./g," "],[n,F],[m,r]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[k,[n,M],[m,s]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[k,[n,M],[m,r]],[/smart-tv.+(samsung)/i],[n,[m,t]],[/hbbtv.+maple;(\d+)/i],[[k,/^/,"SmartTV"],[n,I],[m,t]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[n,"LG"],[m,t]],[/(apple) ?tv/i],[n,[k,x+" TV"],[m,t]],[/crkey/i],[[k,B+"cast"],[n,D],[m,t]],[/droid.+aft(\w)( bui|\))/i],[k,[n,w],[m,t]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[k,[n,J],[m,t]],[/(bravia[\w ]+)( bui|\))/i],[k,[n,K],[m,t]],[/(mitv-\w{5}) bui/i],[k,[n,L],[m,t]],[/Hbbtv.*(technisat) (.*);/i],[n,k,[m,t]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[n,U],[k,U],[m,t]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,t]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[n,k,[m,q]],[/droid.+; (shield) bui/i],[k,[n,"Nvidia"],[m,q]],[/(playstation [345portablevi]+)/i],[k,[n,K],[m,q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[k,[n,F],[m,q]],[/((pebble))app/i],[n,k,[m,u]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[k,[n,x],[m,u]],[/droid.+; (glass) \d/i],[k,[n,D],[m,u]],[/droid.+; (wt63?0{2,3})\)/i],[k,[n,M],[m,u]],[/(quest( 2| pro)?)/i],[k,[n,N],[m,u]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[n,[m,v]],[/(aeobc)\b/i],[k,[n,w],[m,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[k,[m,r]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[k,[m,s]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,s]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,r]],[/(android[-\w\. ]{0,9});.+buil/i],[k,[n,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[o,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[o,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,o],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[o,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,o],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[l,[o,W,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,"Windows"],[o,W,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[o,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,P],[o,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[o,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,o],[/\(bb(10);/i],[o,[l,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[o,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[o,[l,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[o,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[o,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[o,[l,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,O],o],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,o],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],o],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,o]]},Z=function(a,b){if(typeof a===h&&(b=a,a=void 0),!(this instanceof Z))return new Z(a,b).getResult();var c=typeof d!==g&&d.navigator?d.navigator:void 0,e=a||(c&&c.userAgent?c.userAgent:""),q=c&&c.userAgentData?c.userAgentData:void 0,t=b?Q(Y,b):Y,u=c&&c.userAgent==e;return this.getBrowser=function(){var a,b={};return b[l]=void 0,b[o]=void 0,V.call(b,e,t.browser),b[j]=typeof(a=b[o])===i?a.replace(/[^\d\.]/g,"").split(".")[0]:void 0,u&&c&&c.brave&&typeof c.brave.isBrave==f&&(b[l]="Brave"),b},this.getCPU=function(){var a={};return a[p]=void 0,V.call(a,e,t.cpu),a},this.getDevice=function(){var a={};return a[n]=void 0,a[k]=void 0,a[m]=void 0,V.call(a,e,t.device),u&&!a[m]&&q&&q.mobile&&(a[m]=r),u&&"Macintosh"==a[k]&&c&&typeof c.standalone!==g&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[k]="iPad",a[m]=s),a},this.getEngine=function(){var a={};return a[l]=void 0,a[o]=void 0,V.call(a,e,t.engine),a},this.getOS=function(){var a={};return a[l]=void 0,a[o]=void 0,V.call(a,e,t.os),u&&!a[l]&&q&&"Unknown"!=q.platform&&(a[l]=q.platform.replace(/chrome os/i,O).replace(/macos/i,P)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(a){return e=typeof a===i&&a.length>350?U(a,350):a,this},this.setUA(e),this};if(Z.VERSION="1.0.35",Z.BROWSER=R([l,o,j]),Z.CPU=R([p]),Z.DEVICE=R([k,n,m,q,r,t,s,u,v]),Z.ENGINE=Z.OS=R([l,o]),typeof c!==g)b.exports&&(c=b.exports=Z),c.UAParser=Z;else if(typeof define===f&&define.amd)a.r,void 0!==Z&&a.v(Z);else typeof d!==g&&(d.UAParser=Z);var $=typeof d!==g&&(d.jQuery||d.Zepto);if($&&!$.ua){var _=new Z;$.ua=_.getResult(),$.ua.get=function(){return _.getUA()},$.ua.set=function(a){_.setUA(a);var b=_.getResult();for(var c in b)$.ua[c]=b[c]}}}(this)}},e={};function f(a){var b=e[a];if(void 0!==b)return b.exports;var c=e[a]={exports:{}},g=!0;try{d[a].call(c.exports,c,c.exports,f),g=!1}finally{g&&delete e[a]}return c.exports}f.ab="/ROOT/nextjs1/node_modules/.pnpm/next@16.0.2_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/ua-parser-js/",b.exports=f(226)},24255,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={isBot:function(){return h},userAgent:function(){return j},userAgentFromString:function(){return i}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=(d=a.r(37373))&&d.__esModule?d:{default:d};function h(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}function i(a){return{...(0,g.default)(a),isBot:void 0!==a&&h(a)}}function j({headers:a}){return i(a.get("user-agent")||void 0)}},52500,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"URLPattern",{enumerable:!0,get:function(){return d}});let d="undefined"==typeof URLPattern?void 0:URLPattern},23231,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"after",{enumerable:!0,get:function(){return e}});let d=a.r(56704);function e(a){let b=d.workAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:c}=b;return c.after(a)}},96094,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),d=a.r(23231),e=c,Object.keys(d).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:function(){return d[a]}})})},67179,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DynamicServerError:function(){return g},isDynamicServerError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="DYNAMIC_SERVER_USAGE";class g extends Error{constructor(a){super(`Dynamic server usage: ${a}`),this.description=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===f}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},24849,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={StaticGenBailoutError:function(){return g},isStaticGenBailoutError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="NEXT_STATIC_GEN_BAILOUT";class g extends Error{constructor(...a){super(...a),this.code=f}}function h(a){return"object"==typeof a&&null!==a&&"code"in a&&a.code===f}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},77496,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={isHangingPromiseRejectionError:function(){return f},makeDevtoolsIOAwarePromise:function(){return l},makeHangingPromise:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===g}let g="HANGING_PROMISE_REJECTION";class h extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=g}}let i=new WeakMap;function j(a,b,c){if(a.aborted)return Promise.reject(new h(b,c));{let d=new Promise((d,e)=>{let f=e.bind(null,new h(b,c)),g=i.get(a);if(g)g.push(f);else{let b=[f];i.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(k),d}}function k(){}function l(a,b,c){return b.stagedRendering?b.stagedRendering.delayUntilStage(c,void 0,a):new Promise(b=>{setTimeout(()=>{b(a)},0)})}},9332,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={METADATA_BOUNDARY_NAME:function(){return f},OUTLET_BOUNDARY_NAME:function(){return h},ROOT_LAYOUT_BOUNDARY_NAME:function(){return i},VIEWPORT_BOUNDARY_NAME:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="__next_metadata_boundary__",g="__next_viewport_boundary__",h="__next_outlet_boundary__",i="__next_root_layout_boundary__"},98957,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={atLeastOneTask:function(){return h},scheduleImmediate:function(){return g},scheduleOnNextTick:function(){return f},waitAtLeastOneReactRenderTask:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a=>{Promise.resolve().then(()=>{process.nextTick(a)})},g=a=>{setImmediate(a)};function h(){return new Promise(a=>g(a))}function i(){return new Promise(a=>setImmediate(a))}},58116,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={BailoutToCSRError:function(){return g},isBailoutToCSRError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="BAILOUT_TO_CLIENT_SIDE_RENDERING";class g extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===f}},10438,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},38257,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},33707,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={RenderStage:function(){return i},StagedRenderingController:function(){return j}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(10438),h=a.r(38257);var i=((d={})[d.Static=1]="Static",d[d.Runtime=2]="Runtime",d[d.Dynamic=3]="Dynamic",d);class j{constructor(a=null){this.abortSignal=a,this.currentStage=1,this.runtimeStagePromise=(0,h.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,h.createPromiseWithResolvers)(),a&&a.addEventListener("abort",()=>{let{reason:b}=a;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(k),this.runtimeStagePromise.reject(b)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(k),this.dynamicStagePromise.reject(b))},{once:!0})}advanceStage(a){!(this.currentStage>=a)&&(this.currentStage=a,a>=2&&this.runtimeStagePromise.resolve(),a>=3&&this.dynamicStagePromise.resolve())}getStagePromise(a){switch(a){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new g.InvariantError(`Invalid render stage: ${a}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(a){return this.getStagePromise(a)}delayUntilStage(a,b,c){var d,e,f;let g,h=(d=this.getStagePromise(a),e=b,f=c,g=new Promise((a,b)=>{d.then(a.bind(null,f),b)}),void 0!==e&&(g.displayName=e),g);return this.abortSignal&&h.catch(k),h}}function k(){}},29608,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e,f={Postpone:function(){return D},PreludeState:function(){return Z},abortAndThrowOnSynchronousRequestDataAccess:function(){return C},abortOnSynchronousPlatformIOAccess:function(){return A},accessedDynamicData:function(){return L},annotateDynamicAccess:function(){return Q},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return t},createDynamicValidationState:function(){return u},createHangingInputAbortSignal:function(){return P},createRenderInBrowserAbortSignal:function(){return O},delayUntilRuntimeStage:function(){return aa},formatDynamicAPIAccesses:function(){return N},getFirstDynamicReason:function(){return v},isDynamicPostpone:function(){return G},isPrerenderInterruptedError:function(){return K},logDisallowedDynamicError:function(){return $},markCurrentScopeAsDynamic:function(){return w},postponeWithTracking:function(){return E},throwIfDisallowedDynamic:function(){return _},throwToInterruptStaticGeneration:function(){return x},trackAllowedDynamicAccess:function(){return Y},trackDynamicDataInDynamicRender:function(){return y},trackSynchronousPlatformIOAccessInDev:function(){return B},useDynamicRouteParams:function(){return R},useDynamicSearchParams:function(){return S}};for(var g in f)Object.defineProperty(c,g,{enumerable:!0,get:f[g]});let h=(d=a.r(58205))&&d.__esModule?d:{default:d},i=a.r(67179),j=a.r(24849),k=a.r(32319),l=a.r(56704),m=a.r(77496),n=a.r(9332),o=a.r(98957),p=a.r(58116),q=a.r(10438),r=a.r(33707),s="function"==typeof h.default.unstable_postpone;function t(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function u(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function v(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function w(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new j.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return E(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new i.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function x(a,b,c){let d=Object.defineProperty(new i.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function y(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function z(a,b,c){let d=J(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);c.controller.abort(d);let e=c.dynamicTracking;e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:b})}function A(a,b,c,d){let e=d.dynamicTracking;z(a,b,d),e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}function B(a){a.stagedRendering&&a.stagedRendering.advanceStage(r.RenderStage.Dynamic)}function C(a,b,c,d){if(!1===d.controller.signal.aborted){z(a,b,d);let e=d.dynamicTracking;e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}throw J(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function D({reason:a,route:b}){let c=k.workUnitAsyncStorage.getStore();E(b,a,c&&"prerender-ppr"===c.type?c.dynamicTracking:null)}function E(a,b,c){(function(){if(!s)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),h.default.unstable_postpone(F(a,b))}function F(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function G(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&H(a.message)}function H(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===H(F("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let I="NEXT_PRERENDER_INTERRUPTED";function J(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=I,b}function K(a){return"object"==typeof a&&null!==a&&a.digest===I&&"name"in a&&"message"in a&&a instanceof Error}function L(a){return a.length>0}function M(a,b){return a.dynamicAccesses.push(...b.dynamicAccesses),a.dynamicAccesses}function N(a){return a.filter(a=>"string"==typeof a.stack&&a.stack.length>0).map(({expression:a,stack:b})=>(b=b.split("\n").slice(4).filter(a=>!(a.includes("node_modules/next/")||a.includes(" (<anonymous>)")||a.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${a}:
${b}`))}function O(){let a=new AbortController;return a.abort(Object.defineProperty(new p.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),a.signal}function P(a){switch(a.type){case"prerender":case"prerender-runtime":let b=new AbortController;if(a.cacheSignal)a.cacheSignal.inputReady().then(()=>{b.abort()});else{let c=(0,k.getRuntimeStagePromise)(a);c?c.then(()=>(0,o.scheduleOnNextTick)(()=>b.abort())):(0,o.scheduleOnNextTick)(()=>b.abort())}return b.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function Q(a,b){let c=b.dynamicTracking;c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:a})}function R(a){let b=l.workAsyncStorage.getStore(),c=k.workUnitAsyncStorage.getStore();if(b&&c)switch(c.type){case"prerender-client":case"prerender":{let d=c.fallbackRouteParams;d&&d.size>0&&h.default.use((0,m.makeHangingPromise)(c.renderSignal,b.route,a));break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d&&d.size>0)return E(b.route,a,c.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called during a runtime prerender. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function S(a){let b=l.workAsyncStorage.getStore(),c=k.workUnitAsyncStorage.getStore();if(b)switch(!c&&(0,k.throwForMissingRequestStore)(a),c.type){case"prerender-client":h.default.use((0,m.makeHangingPromise)(c.renderSignal,b.route,a));break;case"prerender-legacy":case"prerender-ppr":if(b.forceStatic)return;throw Object.defineProperty(new p.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called from a Server Component. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let T=/\n\s+at Suspense \(<anonymous>\)/,U=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${n.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),V=RegExp(`\\n\\s+at ${n.METADATA_BOUNDARY_NAME}[\\n\\s]`),W=RegExp(`\\n\\s+at ${n.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),X=RegExp(`\\n\\s+at ${n.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function Y(a,b,c,d){if(!X.test(b)){if(V.test(b)){c.hasDynamicMetadata=!0;return}if(W.test(b)){c.hasDynamicViewport=!0;return}if(U.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(T.test(b)){c.hasAllowedDynamic=!0;return}else{var e,f;let g;if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let h=(e=`Route "${a.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,f=b,(g=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=g.name+": "+e+f,g);return void c.dynamicErrors.push(h)}}}var Z=((e={})[e.Full=0]="Full",e[e.Empty=1]="Empty",e[e.Errored=2]="Errored",e);function $(a,b){console.error(b),a.dev||(a.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function _(a,b,c,d){if(d.syncDynamicErrorWithStack)throw $(a,d.syncDynamicErrorWithStack),new j.StaticGenBailoutError;if(0!==b){if(c.hasSuspenseAboveBody)return;let d=c.dynamicErrors;if(d.length>0){for(let b=0;b<d.length;b++)$(a,d[b]);throw new j.StaticGenBailoutError}if(c.hasDynamicViewport)throw console.error(`Route "${a.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new j.StaticGenBailoutError;if(1===b)throw console.error(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new j.StaticGenBailoutError}else if(!1===c.hasAllowedDynamic&&c.hasDynamicMetadata)throw console.error(`Route "${a.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new j.StaticGenBailoutError}function aa(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}},41824,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={isRequestAPICallableInsideAfter:function(){return j},throwForSearchParamsAccessInUseCache:function(){return i},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(24849),g=a.r(24725);function h(a,b){throw Object.defineProperty(new f.StaticGenBailoutError(`Route ${a} with \`dynamic = "error"\` couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function i(a,b){let c=Object.defineProperty(Error(`Route ${a.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(c,b),a.invalidDynamicUsageError??=c,c}function j(){let a=g.afterTaskAsyncStorage.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}},50909,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"connection",{enumerable:!0,get:function(){return j}});let d=a.r(56704),e=a.r(32319),f=a.r(29608),g=a.r(24849),h=a.r(77496),i=a.r(41824);function j(){let a=d.workAsyncStorage.getStore(),b=e.workUnitAsyncStorage.getStore();if(a){if(b&&"after"===b.phase&&!(0,i.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${a.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(a.forceStatic)return Promise.resolve(void 0);if(a.dynamicShouldError)throw Object.defineProperty(new g.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(b)switch(b.type){case"cache":{let b=Object.defineProperty(Error(`Route ${a.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"private-cache":{let b=Object.defineProperty(Error(`Route ${a.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,h.makeHangingPromise)(b.renderSignal,a.route,"`connection()`");case"prerender-ppr":return(0,f.postponeWithTracking)(a.route,"connection",b.dynamicTracking);case"prerender-legacy":return(0,f.throwToInterruptStaticGeneration)("connection",a,b);case"request":return(0,f.trackDynamicDataInDynamicRender)(b),Promise.resolve(void 0)}}(0,e.throwForMissingRequestStore)("connection")}a.r(33707)},42987,(a,b,c)=>{let d={NextRequest:a.r(4195).NextRequest,NextResponse:a.r(2131).NextResponse,ImageResponse:a.r(38695).ImageResponse,userAgentFromString:a.r(24255).userAgentFromString,userAgent:a.r(24255).userAgent,URLPattern:a.r(52500).URLPattern,after:a.r(96094).after,connection:a.r(50909).connection};b.exports=d,c.NextRequest=d.NextRequest,c.NextResponse=d.NextResponse,c.ImageResponse=d.ImageResponse,c.userAgentFromString=d.userAgentFromString,c.userAgent=d.userAgent,c.URLPattern=d.URLPattern,c.after=d.after,c.connection=d.connection},16430,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={MutableRequestCookiesAdapter:function(){return n},ReadonlyRequestCookiesError:function(){return i},RequestCookiesAdapter:function(){return j},appendMutableCookies:function(){return m},areCookiesMutableInCurrentPhase:function(){return p},createCookiesWithMutableAccessCheck:function(){return o},getModifiedCookieValues:function(){return l},responseCookiesToRequestCookies:function(){return r}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(13256),g=a.r(92708),h=a.r(56704);class i extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new i}}class j{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return i.callable;default:return g.ReflectAdapter.get(a,b,c)}}})}}let k=Symbol.for("next.mutated.cookies");function l(a){let b=a[k];return b&&Array.isArray(b)&&0!==b.length?b:[]}function m(a,b){let c=l(b);if(0===c.length)return!1;let d=new f.ResponseCookies(a),e=d.getAll();for(let a of c)d.set(a);for(let a of e)d.set(a);return!0}class n{static wrap(a,b){let c=new f.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,i=()=>{let a=h.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new f.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},j=new Proxy(c,{get(a,b,c){switch(b){case k:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),j}finally{i()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),j}finally{i()}};default:return g.ReflectAdapter.get(a,b,c)}}});return j}}function o(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return q(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return q(a,"cookies().set"),c.set(...d),b};default:return g.ReflectAdapter.get(c,d,e)}}});return b}function p(a){return"action"===a.phase}function q(a,b){if(!p(a))throw new i}function r(a){let b=new f.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},14474,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return i}});let d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(void 0);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}(a.r(58205));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}let f={current:null},g="function"==typeof d.cache?d.cache:a=>a,h=console.warn;function i(a){return function(...b){h(a(...b))}}g(a=>{try{h(f.current)}finally{f.current=null}})},87317,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"cookies",{enumerable:!0,get:function(){return n}});let d=a.r(16430),e=a.r(13256),f=a.r(56704),g=a.r(32319),h=a.r(29608),i=a.r(24849),j=a.r(77496),k=a.r(14474),l=a.r(41824),m=a.r(10438);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a Client Component. Next.js should be preventing ${s} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,p(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}a.r(33707);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},28787,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={HeadersAdapter:function(){return h},ReadonlyHeadersError:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(92708);class g extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new g}}class h extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return f.ReflectAdapter.get(b,c,d);let e=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==g)return f.ReflectAdapter.get(b,g,d)},set(b,c,d,e){if("symbol"==typeof c)return f.ReflectAdapter.set(b,c,d,e);let g=c.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return f.ReflectAdapter.set(b,h??c,d,e)},has(b,c){if("symbol"==typeof c)return f.ReflectAdapter.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&f.ReflectAdapter.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return f.ReflectAdapter.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||f.ReflectAdapter.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return g.callable;default:return f.ReflectAdapter.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new h(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}},66888,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"headers",{enumerable:!0,get:function(){return m}});let d=a.r(28787),e=a.r(56704),f=a.r(32319),g=a.r(29608),h=a.r(24849),i=a.r(77496),j=a.r(14474),k=a.r(41824),l=a.r(10438);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(b.forceStatic)return o(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":var j=b,p=c;let e=n.get(p);if(e)return e;let f=(0,i.makeHangingPromise)(p.renderSignal,j.route,"`headers()`");return n.set(p,f),f;case"prerender-client":let q="`headers`";throw Object.defineProperty(new l.InvariantError(`${q} must not be used within a client component. Next.js should be preventing ${q} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,g.delayUntilRuntimeStage)(c,o(c.headers));case"private-cache":return o(c.headers);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),o(c.headers)}}(0,f.throwForMissingRequestStore)(a)}a.r(33707);let n=new WeakMap;function o(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),c}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},86269,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"draftMode",{enumerable:!0,get:function(){return k}});let d=a.r(32319),e=a.r(56704),f=a.r(29608),g=a.r(14474),h=a.r(24849),i=a.r(67179),j=a.r(10438);function k(){let a=e.workAsyncStorage.getStore(),b=d.workUnitAsyncStorage.getStore();switch((!a||!b)&&(0,d.throwForMissingRequestStore)("draftMode"),b.type){case"prerender-runtime":return(0,f.delayUntilRuntimeStage)(b,l(b.draftMode,a));case"request":return l(b.draftMode,a);case"cache":case"private-cache":case"unstable-cache":let c=(0,d.getDraftModeProviderForCacheScope)(a,b);if(c)return l(c,a);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return l(null,a);default:return b}}function l(a,b){let c=n.get(a??m);return c||Promise.resolve(new o(a))}a.r(92708);let m={},n=new WeakMap;class o{constructor(a){this._provider=a}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){p("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){p("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function p(a,b){let c=e.workAsyncStorage.getStore(),g=d.workUnitAsyncStorage.getStore();if(c){if((null==g?void 0:g.phase)==="after")throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(c.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${c.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(g)switch(g.type){case"cache":case"private-cache":{let d=Object.defineProperty(Error(`Route ${c.route} used "${a}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(d,b),c.invalidDynamicUsageError??=d,d}case"unstable-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let b=Object.defineProperty(Error(`Route ${c.route} used ${a} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,f.abortAndThrowOnSynchronousRequestDataAccess)(c.route,a,b,g)}case"prerender-client":let d="`draftMode`";throw Object.defineProperty(new j.InvariantError(`${d} must not be used within a Client Component. Next.js should be preventing ${d} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,f.postponeWithTracking)(c.route,a,g.dynamicTracking);case"prerender-legacy":g.revalidate=0;let e=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=a,c.dynamicUsageStack=e.stack,e;case"request":(0,f.trackDynamicDataInDynamicRender)(g)}}}(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},59182,(a,b,c)=>{b.exports.cookies=a.r(87317).cookies,b.exports.headers=a.r(66888).headers,b.exports.draftMode=a.r(86269).draftMode},68107,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return e}});class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class e extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},33102,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"RedirectStatusCode",{enumerable:!0,get:function(){return e}});var d,e=((d={})[d.SeeOther=303]="SeeOther",d[d.TemporaryRedirect=307]="TemporaryRedirect",d[d.PermanentRedirect=308]="PermanentRedirect",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},3263,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={REDIRECT_ERROR_CODE:function(){return h},RedirectType:function(){return i},isRedirectError:function(){return j}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(33102),h="NEXT_REDIRECT";var i=((d={}).push="push",d.replace="replace",d);function j(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,d]=b,e=b.slice(2,-2).join(";"),f=Number(b.at(-2));return c===h&&("replace"===d||"push"===d)&&"string"==typeof e&&!isNaN(f)&&f in g.RedirectStatusCode}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},61408,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return n},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return k},redirect:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33102),g=a.r(3263),h=a.r(20635).actionAsyncStorage;function i(a,b,c=f.RedirectStatusCode.TemporaryRedirect){let d=Object.defineProperty(Error(g.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=`${g.REDIRECT_ERROR_CODE};${b};${a};${c};`,d}function j(a,b){throw i(a,b??=h?.getStore()?.isAction?g.RedirectType.push:g.RedirectType.replace,f.RedirectStatusCode.TemporaryRedirect)}function k(a,b=g.RedirectType.replace){throw i(a,b,f.RedirectStatusCode.PermanentRedirect)}function l(a){return(0,g.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function m(a){if(!(0,g.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function n(a){if(!(0,g.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},59382,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={HTTPAccessErrorStatus:function(){return f},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return h},getAccessFallbackErrorTypeByStatus:function(){return k},getAccessFallbackHTTPStatus:function(){return j},isHTTPAccessFallbackError:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},g=new Set(Object.values(f)),h="NEXT_HTTP_ERROR_FALLBACK";function i(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===h&&g.has(Number(c))}function j(a){return Number(a.digest.split(";")[1])}function k(a){switch(a){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88126,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"notFound",{enumerable:!0,get:function(){return f}});let d=a.r(59382),e=`${d.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function f(){let a=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=e,a}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},45904,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"forbidden",{enumerable:!0,get:function(){return d}}),a.r(59382).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},94204,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unauthorized",{enumerable:!0,get:function(){return d}}),a.r(59382).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},7481,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isPostpone",{enumerable:!0,get:function(){return e}});let d=Symbol.for("react.postpone");function e(a){return"object"==typeof a&&null!==a&&a.$$typeof===d}},36322,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isNextRouterError",{enumerable:!0,get:function(){return f}});let d=a.r(59382),e=a.r(3263);function f(a){return(0,e.isRedirectError)(a)||(0,d.isHTTPAccessFallbackError)(a)}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},45276,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b)||(0,h.isPrerenderInterruptedError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=a.r(77496),e=a.r(7481),f=a.r(58116),g=a.r(36322),h=a.r(29608),i=a.r(67179);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},76909,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=a.r(45276).unstable_rethrow;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},22632,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={ReadonlyURLSearchParams:function(){return f.ReadonlyURLSearchParams},RedirectType:function(){return h.RedirectType},forbidden:function(){return j.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return g.permanentRedirect},redirect:function(){return g.redirect},unauthorized:function(){return k.unauthorized},unstable_isUnrecognizedActionError:function(){return m},unstable_rethrow:function(){return l.unstable_rethrow}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(68107),g=a.r(61408),h=a.r(3263),i=a.r(88126),j=a.r(45904),k=a.r(94204),l=a.r(76909);function m(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},89787,a=>{"use strict";let b,c,d,e,f;var g=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},h=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function i(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class j{constructor(a,b,c){if(b9.add(this),ca.set(this,{}),cb.set(this,void 0),cc.set(this,void 0),g(this,cc,c,"f"),g(this,cb,a,"f"),!b)return;const{name:d}=a;for(const[a,c]of Object.entries(b))a.startsWith(d)&&c&&(h(this,ca,"f")[a]=c)}get value(){return Object.keys(h(this,ca,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>h(this,ca,"f")[a]).join("")}chunk(a,b){let c=h(this,b9,"m",ce).call(this);for(let d of h(this,b9,"m",cd).call(this,{name:h(this,cb,"f").name,value:a,options:{...h(this,cb,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(h(this,b9,"m",ce).call(this))}}ca=new WeakMap,cb=new WeakMap,cc=new WeakMap,b9=new WeakSet,cd=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return h(this,ca,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(3936*d,3936);c.push({...a,name:b,value:e}),h(this,ca,"f")[b]=e}return h(this,cc,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},ce=function(){let a={};for(let b in h(this,ca,"f"))delete h(this,ca,"f")?.[b],a[b]={name:b,value:"",options:{...h(this,cb,"f").options,maxAge:0}};return a};class k extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class l extends k{}l.kind="signIn";class m extends k{}m.type="AdapterError";class n extends k{}n.type="AccessDenied";class o extends k{}o.type="CallbackRouteError";class p extends k{}p.type="ErrorPageLoop";class q extends k{}q.type="EventError";class r extends k{}r.type="InvalidCallbackUrl";class s extends l{constructor(){super(...arguments),this.code="credentials"}}s.type="CredentialsSignin";class t extends k{}t.type="InvalidEndpoints";class u extends k{}u.type="InvalidCheck";class v extends k{}v.type="JWTSessionError";class w extends k{}w.type="MissingAdapter";class x extends k{}x.type="MissingAdapterMethods";class y extends k{}y.type="MissingAuthorize";class z extends k{}z.type="MissingSecret";class A extends l{}A.type="OAuthAccountNotLinked";class B extends l{}B.type="OAuthCallbackError";class C extends k{}C.type="OAuthProfileParseError";class D extends k{}D.type="SessionTokenError";class E extends k{}E.type="SignOutError";class F extends k{}F.type="UnknownAction";class G extends k{}G.type="UnsupportedStrategy";class H extends k{}H.type="InvalidProvider";class I extends k{}I.type="UntrustedHost";class J extends k{}J.type="Verification";class K extends l{}K.type="MissingCSRF";let L=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class M extends k{}M.type="DuplicateConditionalUI";class N extends k{}N.type="MissingWebAuthnAutocomplete";class O extends k{}O.type="WebAuthnVerificationError";class P extends l{}P.type="AccountNotLinked";class Q extends k{}Q.type="ExperimentalFeatureNotEnabled";let R=!1;function S(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let T=!1,U=!1,V=!1,W=["createVerificationToken","useVerificationToken","getUserByEmail"],X=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],Y=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var Z=a.i(54799);"function"!=typeof Z.hkdf||process.versions.electron||(b=async(...a)=>new Promise((b,c)=>{Z.hkdf(...a,(a,d)=>{a?c(a):b(new Uint8Array(d))})}));let $=async(a,c,d,e,f)=>(b||((a,b,c,d,e)=>{let f=parseInt(a.substr(3),10)>>3||20,g=(0,Z.createHmac)(a,c.byteLength?c:new Uint8Array(f)).update(b).digest(),h=Math.ceil(e/f),i=new Uint8Array(f*h+d.byteLength+1),j=0,k=0;for(let b=1;b<=h;b++)i.set(d,k),i[k+d.byteLength]=b,i.set((0,Z.createHmac)(a,g).update(i.subarray(j,k+d.byteLength+1)).digest(),k),j=k,k+=f;return i.slice(0,e)}))(a,c,d,e,f);function _(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function aa(a,b,c,d,e){return $(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=_(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),_(c,"salt"),function(a){let b=_(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}var ab=a.i(51615),ac=a.i(66680);let ad=(a,b)=>(0,ac.createHash)(a).update(b).digest(),ae=new TextEncoder,af=new TextDecoder;function ag(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function ah(a,b){return ag(ae.encode(a),new Uint8Array([0]),b)}function ai(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function aj(a){let b=new Uint8Array(4);return ai(b,a),b}function ak(a){return ag(aj(a.length),a)}async function al(a,b,c){let d=Math.ceil((b>>3)/32),e=new Uint8Array(32*d);for(let b=0;b<d;b++){let d=new Uint8Array(4+a.length+c.length);d.set(aj(b+1)),d.set(a,4),d.set(c,4+a.length),e.set(await ad("sha256",d),32*b)}return e.slice(0,b>>3)}let am=a=>ab.Buffer.from(a).toString("base64url"),an=a=>{let b;return new Uint8Array(ab.Buffer.from(((b=a)instanceof Uint8Array&&(b=af.decode(b)),b),"base64url"))},ao=Symbol();class ap extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class aq extends ap{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class ar extends ap{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class as extends ap{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class at extends ap{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class au extends ap{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class av extends ap{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class aw extends ap{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ax extends ap{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class ay extends ap{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}var az=a.i(53987);function aA(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new at(`Unsupported JWE Algorithm: ${a}`)}}let aB=(a,b)=>{if(b.length<<3!==aA(a))throw new av("Invalid Initialization Vector length")};var aC=a.i(12057);let aD=(a,b)=>{let c;switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":c=parseInt(a.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":c=parseInt(a.slice(1,4),10);break;default:throw new at(`Content Encryption Algorithm ${a} is not supported either by JOSE or your javascript runtime`)}if(b instanceof Uint8Array){let a=b.byteLength<<3;if(a!==c)throw new av(`Invalid Content Encryption Key length. Expected ${c} bits, got ${a} bits`);return}if(aC.types.isKeyObject(b)&&"secret"===b.type){let a=b.symmetricKeySize<<3;if(a!==c)throw new av(`Invalid Content Encryption Key length. Expected ${c} bits, got ${a} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function aE(a,b,c,d,e,f){var g;let h,i,j=ag(a,b,c,(h=Math.floor((g=a.length<<3)/0x100000000),ai(i=new Uint8Array(8),h,0),ai(i,g%0x100000000,4),i)),k=(0,ac.createHmac)(`sha${d}`,e);return k.update(j),k.digest().slice(0,f>>3)}let aF=ac.webcrypto;function aG(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function aH(a,b){return a.name===b}function aI(a,b,...c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!aH(a.algorithm,"AES-GCM"))throw aG("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aG(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!aH(a.algorithm,"AES-KW"))throw aG("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aG(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw aG("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!aH(a.algorithm,"PBKDF2"))throw aG("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!aH(a.algorithm,"RSA-OAEP"))throw aG("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw aG(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c.length&&!c.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(c.length>2){let b=c.pop();a+=`one of ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of ${c[0]} or ${c[1]}.`:a+=`${c[0]}.`;throw TypeError(a)}}function aJ(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let aK=(a,...b)=>aJ("Key must be ",a,...b);function aL(a,b,...c){return aJ(`Key for the ${a} algorithm must be `,b,...c)}let aM=a=>(c||=new Set((0,ac.getCiphers)())).has(a),aN=a=>aC.types.isKeyObject(a)||aC.types.isCryptoKey(a),aO=["KeyObject"];(globalThis.CryptoKey||aF?.CryptoKey)&&aO.push("CryptoKey");let aP=(a,b,c,d,e)=>{let f;if(aC.types.isCryptoKey(c))aI(c,a,"encrypt"),f=ac.KeyObject.from(c);else if(c instanceof Uint8Array||aC.types.isKeyObject(c))f=c;else throw TypeError(aK(c,...aO,"Uint8Array"));if(aD(a,f),d)aB(a,d);else d=(0,az.default)(new Uint8Array(aA(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(a,b,c,d,e){let f,g=parseInt(a.slice(1,4),10);f=c,aC.types.isKeyObject(f)&&(c=c.export());let h=c.subarray(g>>3),i=c.subarray(0,g>>3),j=`aes-${g}-cbc`;if(!aM(j))throw new at(`alg ${a} is not supported by your javascript runtime`);let k=(0,ac.createCipheriv)(j,h,d),l=ag(k.update(b),k.final()),m=aE(e,d,l,parseInt(a.slice(-3),10),i,g);return{ciphertext:l,tag:m,iv:d}}(a,b,f,d,e);case"A128GCM":case"A192GCM":case"A256GCM":var g=f,h=d;let i=parseInt(a.slice(1,4),10),j=`aes-${i}-gcm`;if(!aM(j))throw new at(`alg ${a} is not supported by your javascript runtime`);let k=(0,ac.createCipheriv)(j,g,h,{authTagLength:16});e.byteLength&&k.setAAD(e,{plaintextLength:b.length});let l=k.update(b);return k.final(),{ciphertext:l,tag:k.getAuthTag(),iv:h};default:throw new at("Unsupported JWE Content Encryption Algorithm")}};function aQ(a,b){if(a.symmetricKeySize<<3!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function aR(a,b,c){if(aC.types.isKeyObject(a))return a;if(a instanceof Uint8Array)return(0,ac.createSecretKey)(a);if(aC.types.isCryptoKey(a))return aI(a,b,c),ac.KeyObject.from(a);throw TypeError(aK(a,...aO,"Uint8Array"))}let aS=(a,b,c)=>{let d=parseInt(a.slice(1,4),10),e=`aes${d}-wrap`;if(!aM(e))throw new at(`alg ${a} is not supported either by JOSE or your javascript runtime`);let f=aR(b,a,"wrapKey");aQ(f,a);let g=(0,ac.createCipheriv)(e,f,ab.Buffer.alloc(8,166));return ag(g.update(c),g.final())},aT=(a,b,c)=>{let d=parseInt(a.slice(1,4),10),e=`aes${d}-wrap`;if(!aM(e))throw new at(`alg ${a} is not supported either by JOSE or your javascript runtime`);let f=aR(b,a,"unwrapKey");aQ(f,a);let g=(0,ac.createDecipheriv)(e,f,ab.Buffer.alloc(8,166));return ag(g.update(c),g.final())};function aU(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}function aV(a){return aU(a)&&"string"==typeof a.kty}new WeakMap;let aW=(a,b)=>{let c;if(aC.types.isCryptoKey(a))c=ac.KeyObject.from(a);else if(aC.types.isKeyObject(a))c=a;else if(aV(a))return a.crv;else throw TypeError(aK(a,...aO));if("secret"===c.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(c.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${c.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${c.asymmetricKeyType.slice(1)}`;case"ec":{let a=c.asymmetricKeyDetails.namedCurve;if(b)return a;switch(a){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new at("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}},aX=(0,aC.promisify)(ac.generateKeyPair);async function aY(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){let g,h;if(aC.types.isCryptoKey(a))aI(a,"ECDH"),g=ac.KeyObject.from(a);else if(aC.types.isKeyObject(a))g=a;else throw TypeError(aK(a,...aO));if(aC.types.isCryptoKey(b))aI(b,"ECDH","deriveBits"),h=ac.KeyObject.from(b);else if(aC.types.isKeyObject(b))h=b;else throw TypeError(aK(b,...aO));let i=ag(ak(ae.encode(c)),ak(e),ak(f),aj(d));return al((0,ac.diffieHellman)({privateKey:h,publicKey:g}),d,i)}async function aZ(a){let b;if(aC.types.isCryptoKey(a))b=ac.KeyObject.from(a);else if(aC.types.isKeyObject(a))b=a;else throw TypeError(aK(a,...aO));switch(b.asymmetricKeyType){case"x25519":return aX("x25519");case"x448":return aX("x448");case"ec":return aX("ec",{namedCurve:aW(b)});default:throw new at("Invalid or unsupported EPK")}}let a$=a=>["P-256","P-384","P-521","X25519","X448"].includes(aW(a));var a_=az;function a0(a){if(!(a instanceof Uint8Array)||a.length<8)throw new av("PBES2 Salt Input must be 8 or more octets")}let a1=(0,aC.promisify)(ac.pbkdf2);function a2(a,b){if(aC.types.isKeyObject(a))return a.export();if(a instanceof Uint8Array)return a;if(aC.types.isCryptoKey(a))return aI(a,b,"deriveBits","deriveKey"),ac.KeyObject.from(a).export();throw TypeError(aK(a,...aO,"Uint8Array"))}let a3=async(a,b,c,d=2048,e=(0,a_.default)(new Uint8Array(16)))=>{a0(e);let f=ah(a,e),g=parseInt(a.slice(13,16),10)>>3,h=a2(b,a),i=await a1(h,f,d,g,`sha${a.slice(8,11)}`);return{encryptedKey:await aS(a.slice(-6),i,c),p2c:d,p2s:am(e)}},a4=async(a,b,c,d,e)=>{a0(e);let f=ah(a,e),g=parseInt(a.slice(13,16),10)>>3,h=a2(b,a),i=await a1(h,f,d,g,`sha${a.slice(8,11)}`);return aT(a.slice(-6),i,c)},a5=(a,b)=>{let c;if("rsa"!==a.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");try{c=a instanceof ac.KeyObject?a.asymmetricKeyDetails?.modulusLength:Buffer.from(a.n,"base64url").byteLength<<3}catch{}if("number"!=typeof c||c<2048)throw TypeError(`${b} requires key modulusLength to be 2048 bits or larger`)},a6=(0,aC.deprecate)(()=>ac.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),a7=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return ac.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return a6();default:return}},a8=a=>{switch(a){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function a9(a,b,...c){if(aC.types.isKeyObject(a))return a;if(aC.types.isCryptoKey(a))return aI(a,b,...c),ac.KeyObject.from(a);throw TypeError(aK(a,...aO))}let ba={};function bb(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new at(`Unsupported JWE Algorithm: ${a}`)}}let bc=a=>(0,az.default)(new Uint8Array(bb(a)>>3));async function bd(a){let b;if(aC.types.isCryptoKey(a)){if(!a.extractable)throw TypeError("CryptoKey is not extractable");b=ac.KeyObject.from(a)}else if(aC.types.isKeyObject(a))b=a;else if(a instanceof Uint8Array)return{kty:"oct",k:am(a)};else throw TypeError(aK(a,...aO,"Uint8Array"));if("secret"!==b.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(b.asymmetricKeyType))throw new at("Unsupported key asymmetricKeyType");return b.export({format:"jwk"})}let be=a=>a?.[Symbol.toStringTag],bf=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0};function bg(a,b,c,d){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?((a,b,c,d)=>{if(!(b instanceof Uint8Array)){if(d&&aV(b)){if(aV(b)&&"oct"===b.kty&&"string"==typeof b.k&&bf(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!aN(b))throw TypeError(aL(a,b,...aO,"Uint8Array",d?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${be(b)} instances for symmetric algorithms must be of type "secret"`)}})(b,c,d,a):((a,b,c,d)=>{if(d&&aV(b))switch(c){case"sign":if("oct"!==b.kty&&"string"==typeof b.d&&bf(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==b.kty&&void 0===b.d&&bf(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!aN(b))throw TypeError(aL(a,b,...aO,d?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${be(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${be(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${be(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${be(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${be(b)} instances for asymmetric algorithm encryption must be of type "public"`)})(b,c,d,a)}let bh=bg.bind(void 0,!1);bg.bind(void 0,!0);let bi=ac.timingSafeEqual,bj=(a,b,c,d,e,f)=>{let g;if(aC.types.isCryptoKey(b))aI(b,a,"decrypt"),g=ac.KeyObject.from(b);else if(b instanceof Uint8Array||aC.types.isKeyObject(b))g=b;else throw TypeError(aK(b,...aO,"Uint8Array"));if(!d)throw new av("JWE Initialization Vector missing");if(!e)throw new av("JWE Authentication Tag missing");switch(aD(a,g),aB(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(a,b,c,d,e,f){let g,h,i,j=parseInt(a.slice(1,4),10);i=b,aC.types.isKeyObject(i)&&(b=b.export());let k=b.subarray(j>>3),l=b.subarray(0,j>>3),m=parseInt(a.slice(-3),10),n=`aes-${j}-cbc`;if(!aM(n))throw new at(`alg ${a} is not supported by your javascript runtime`);let o=aE(f,d,c,m,l,j);try{g=bi(e,o)}catch{}if(!g)throw new au;try{let a=(0,ac.createDecipheriv)(n,k,d);h=ag(a.update(c),a.final())}catch{}if(!h)throw new au;return h}(a,g,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":var h=g;let i=parseInt(a.slice(1,4),10),j=`aes-${i}-gcm`;if(!aM(j))throw new at(`alg ${a} is not supported by your javascript runtime`);try{let a=(0,ac.createDecipheriv)(j,h,d,{authTagLength:16});a.setAuthTag(e),f.byteLength&&a.setAAD(f,{plaintextLength:c.length});let b=a.update(c);return a.final(),b}catch{throw new au}default:throw new at("Unsupported JWE Content Encryption Algorithm")}};async function bk(a,b,c,d){let e=a.slice(0,7),f=await aP(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:am(f.iv),tag:am(f.tag)}}async function bl(a,b,c,d,e){return bj(a.slice(0,7),b,c,d,e,new Uint8Array(0))}async function bm(a,b,c,d,e={}){let f,g,h;switch(bh(a,c,"encrypt"),c=await ba.normalizePublicKey?.(c,a)||c,a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!a$(c))throw new at("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:i,apv:j}=e,{epk:k}=e;k||=(await aZ(c)).privateKey;let{x:l,y:m,crv:n,kty:o}=await bd(k),p=await aY(c,k,"ECDH-ES"===a?b:a,"ECDH-ES"===a?bb(b):parseInt(a.slice(-5,-2),10),i,j);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),i&&(g.apu=am(i)),j&&(g.apv=am(j)),"ECDH-ES"===a){h=p;break}h=d||bc(b);let q=a.slice(-6);f=await aS(q,p,h);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":var i,j;let k,l,m;h=d||bc(b),f=await (i=c,j=h,k=a7(a),l=a8(a),a5(m=a9(i,a,"wrapKey","encrypt"),a),(0,ac.publicEncrypt)({key:m,oaepHash:l,padding:k},j));break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||bc(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await a3(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||bc(b),f=await aS(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||bc(b);let{iv:i}=e;({encryptedKey:f,...g}=await bk(a,c,h,i));break}default:throw new at('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}let bn=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0},bo=function(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new at(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)};class bp{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=a}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setSharedUnprotectedHeader(a){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}setAdditionalAuthenticatedData(a){return this._aad=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new av("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!bn(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new av("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(bo(av,new Map,b?.crit,this._protectedHeader,h),void 0!==h.zip)throw new at('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new av('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new av('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);{let e;({cek:d,encryptedKey:c,parameters:e}=await bm(i,j,a,this._cek,this._keyManagementParameters)),e&&(b&&ao in b?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...e}:this.setUnprotectedHeader(e):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...e}:this.setProtectedHeader(e))}f=this._protectedHeader?ae.encode(am(JSON.stringify(this._protectedHeader))):ae.encode(""),this._aad?(g=am(this._aad),e=ag(f,ae.encode("."),ae.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await aP(j,this._plaintext,d,this._iv,e),n={ciphertext:am(k)};return m&&(n.iv=am(m)),l&&(n.tag=am(l)),c&&(n.encrypted_key=am(c)),g&&(n.aad=g),this._protectedHeader&&(n.protected=af.decode(f)),this._sharedUnprotectedHeader&&(n.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(n.header=this._unprotectedHeader),n}}class bq{_flattened;constructor(a){this._flattened=new bp(a)}setContentEncryptionKey(a){return this._flattened.setContentEncryptionKey(a),this}setInitializationVector(a){return this._flattened.setInitializationVector(a),this}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}setKeyManagementParameters(a){return this._flattened.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this._flattened.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let br=a=>Math.floor(a.getTime()/1e3),bs=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,bt=a=>{let b,c=bs.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function bu(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class bv{_payload;constructor(a={}){if(!aU(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:bu("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:bu("setNotBefore",br(a))}:this._payload={...this._payload,nbf:br(new Date)+bt(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:bu("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:bu("setExpirationTime",br(a))}:this._payload={...this._payload,exp:br(new Date)+bt(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:br(new Date)}:a instanceof Date?this._payload={...this._payload,iat:bu("setIssuedAt",br(a))}:"string"==typeof a?this._payload={...this._payload,iat:bu("setIssuedAt",br(new Date)+bt(a))}:this._payload={...this._payload,iat:bu("setIssuedAt",a)},this}}class bw extends bv{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(a,b){let c=new bq(ae.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),c.setProtectedHeader(this._protectedHeader),this._iv&&c.setInitializationVector(this._iv),this._cek&&c.setContentEncryptionKey(this._cek),this._keyManagementParameters&&c.setKeyManagementParameters(this._keyManagementParameters),c.encrypt(a,b)}}a.s(["decode",0,an,"encode",0,am],20608);var bx=a.i(20608),bx=bx;let by=(a,b)=>{if("string"!=typeof a||!a)throw new ax(`${b} missing or invalid`)};async function bz(a,b){let c;if(!aU(a))throw TypeError("JWK must be an object");if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(a.kty){case"EC":by(a.crv,'"crv" (Curve) Parameter'),by(a.x,'"x" (X Coordinate) Parameter'),by(a.y,'"y" (Y Coordinate) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x,y:a.y};break;case"OKP":by(a.crv,'"crv" (Subtype of Key Pair) Parameter'),by(a.x,'"x" (Public Key) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x};break;case"RSA":by(a.e,'"e" (Exponent) Parameter'),by(a.n,'"n" (Modulus) Parameter'),c={e:a.e,kty:a.kty,n:a.n};break;case"oct":by(a.k,'"k" (Key Value) Parameter'),c={k:a.k,kty:a.kty};break;default:throw new at('"kty" (Key Type) Parameter missing or unsupported')}let d=ae.encode(JSON.stringify(c));return am(await ad(b,d))}async function bA(a,b){if(!aU(a))throw TypeError("JWK must be an object");switch(b||=a.alg,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return an(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new at('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":var c;return(c={...a,alg:b}).d?(0,ac.createPrivateKey)({format:"jwk",key:c}):(0,ac.createPublicKey)({format:"jwk",key:c});default:throw new at('Unsupported "kty" (Key Type) Parameter value')}}async function bB(a,b,c,d,e){switch(bh(a,b,"decrypt"),b=await ba.normalizePrivateKey?.(b,a)||b,a){case"dir":if(void 0!==c)throw new av("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new av("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!aU(d.epk))throw new av('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!a$(b))throw new at("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await bA(d.epk,a);if(void 0!==d.apu){if("string"!=typeof d.apu)throw new av('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=an(d.apu)}catch{throw new av("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new av('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=an(d.apv)}catch{throw new av("Failed to base64url decode the apv")}}let h=await aY(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?bb(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new av("JWE Encrypted Key missing");return aT(a.slice(-6),h,c)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":var f;let g,h,i;if(void 0===c)throw new av("JWE Encrypted Key missing");return f=b,g=a7(a),h=a8(a),a5(i=a9(f,a,"unwrapKey","decrypt"),a),(0,ac.privateDecrypt)({key:i,oaepHash:h,padding:g},c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new av("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new av('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new av('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new av('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=an(d.p2s)}catch{throw new av("Failed to base64url decode the p2s")}return a4(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new av("JWE Encrypted Key missing");return aT(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new av("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new av('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new av('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=an(d.iv)}catch{throw new av("Failed to base64url decode the iv")}try{f=an(d.tag)}catch{throw new av("Failed to base64url decode the tag")}return bl(a,b,c,e,f)}default:throw new at('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let bC=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};async function bD(a,b,c){let d,e,f,g,h,i,j;if(!aU(a))throw new av("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new av("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new av("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new av("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new av("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new av("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new av("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new av("JWE AAD incorrect type");if(void 0!==a.header&&!aU(a.header))throw new av("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!aU(a.unprotected))throw new av("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=an(a.protected);d=JSON.parse(af.decode(b))}catch{throw new av("JWE Protected Header is invalid")}if(!bn(d,a.header,a.unprotected))throw new av("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(bo(av,new Map,c?.crit,d,k),void 0!==k.zip)throw new at('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new av("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new av("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&bC("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&bC("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new as('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new as('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=an(a.encrypted_key)}catch{throw new av("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0);try{f=await bB(l,b,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof av||a instanceof at)throw a;f=bc(m)}if(void 0!==a.iv)try{g=an(a.iv)}catch{throw new av("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=an(a.tag)}catch{throw new av("Failed to base64url decode the tag")}let q=ae.encode(a.protected??"");i=void 0!==a.aad?ag(q,ae.encode("."),ae.encode(a.aad)):q;try{j=an(a.ciphertext)}catch{throw new av("Failed to base64url decode the ciphertext")}let r={plaintext:await bj(m,f,j,g,h,i)};if(void 0!==a.protected&&(r.protectedHeader=d),void 0!==a.aad)try{r.additionalAuthenticatedData=an(a.aad)}catch{throw new av("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(r.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(r.unprotectedHeader=a.header),p)?{...r,key:b}:r}async function bE(a,b,c){if(a instanceof Uint8Array&&(a=af.decode(a)),"string"!=typeof a)throw new av("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new av("Invalid Compact JWE");let j=await bD({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}let bF=a=>a.toLowerCase().replace(/^application\//,"");async function bG(a,b,c){let d=await bE(a,b,c),e=((a,b,c={})=>{var d,e;let f,g;try{f=JSON.parse(af.decode(b))}catch{}if(!aU(f))throw new aw("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||bF(a.typ)!==bF(h)))throw new aq('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new aq(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new aq('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new aq('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new aq('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=bt(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=br(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new aq('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new aq('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new aq('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new aq('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ar('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:bt(m)))throw new ar('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new aq('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f})(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new aq('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new aq('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new aq('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}var bH=a.i(32821);let bI="A256CBC-HS512";async function bJ(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:e}=a,f=Array.isArray(c)?c:[c],g=await bL(bI,f[0],e),h=await bz({kty:"oct",k:bx.encode(g)},`sha${g.byteLength<<3}`);return await new bw(b).setProtectedHeader({alg:"dir",enc:bI,kid:h}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(g)}async function bK(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await bG(b,async({kid:a,enc:b})=>{for(let c of e){let e=await bL(b,c,d);if(void 0===a||a===await bz({kty:"oct",k:bx.encode(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[bI,"A256GCM"]});return f}async function bL(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await aa("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function bM({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}let bN="\x1b[31m",bO="\x1b[0m",bP={error(a){let b=a instanceof k?a.type:a.name;if(console.error(`${bN}[auth][error]${bO} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${bN}[auth][cause]${bO}:`,b.stack),c&&console.error(`${bN}[auth][details]${bO}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){let b=`https://warnings.authjs.dev#${a}`;console.warn(`\x1b[33m[auth][warn][${a}]${bO}`,`Read more: ${b}`)},debug(a,b){console.log(`\x1b[90m[auth][debug]:${bO} ${a}`,JSON.stringify(b,null,2))}};function bQ(a){let b={...bP};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let bR=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function bS(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function bT(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new F("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new F(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new F(`Cannot parse action at ${a}`);let[e,f]=d;if(!bR.includes(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new F(`Cannot parse action at ${a}`);return{action:e,providerId:f}}(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await bS(a):void 0,cookies:(0,bH.parse)(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=bQ(b);c.error(d),c.debug("request",a)}}function bU(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=(0,bH.serialize)(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function bV(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function bW(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}async function bX({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await bV(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=bW(32),f=await bV(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function bY(a,b){if(!b)throw new K(`CSRF token was missing during an action ${a}`)}function bZ(a){return null!==a&&"object"==typeof a}function b$(a,...b){if(!b.length)return a;let c=b.shift();if(bZ(a)&&bZ(c))for(let b in c)bZ(c[b])?(bZ(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),b$(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return b$(a,...b)}let b_=Symbol("skip-csrf-check"),b0=Symbol("return-type-raw"),b1=Symbol("custom-fetch"),b2=Symbol("conform-internal"),b3=a=>b5({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),b4=a=>b5({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function b5(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function b6(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}let b7={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function b8({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:j}){var k,l;let n=bQ(a),{providers:o,provider:p}=function(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=b$(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){var i;let a,b,d,f;h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let g=((i=h).issuer&&(i.wellKnown??(i.wellKnown=`${i.issuer}/.well-known/openid-configuration`)),(a=b6(i.authorization,i.issuer))&&!a.url?.searchParams.has("scope")&&a.url.searchParams.set("scope","openid profile email"),b=b6(i.token,i.issuer),d=b6(i.userinfo,i.issuer),f=i.checks??["pkce"],i.redirectProxyUrl&&(f.includes("state")||f.push("state"),i.redirectProxyUrl=`${i.redirectProxyUrl}/callback/${i.id}`),{...i,authorization:a,token:b,checks:f,userinfo:d,profile:i.profile??b3,account:i.account??b4});return g.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete g.redirectProxyUrl,g[b1]??(g[b1]=e?.[b1]),g}return h});return{providers:e,provider:e.find(({id:a})=>a===b)}}({url:d,providerId:b,config:a}),r=!1;if((p?.type==="oauth"||p?.type==="oidc")&&p.redirectProxyUrl)try{r=new URL(p.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${p.redirectProxyUrl}`)}let s={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:p,cookies:b$(i(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:o,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:bJ,decode:bK,...a.jwt},events:(k=a.events??{},l=n,Object.keys(k).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=k[b];return await c(...a)}catch(a){l.error(new q(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new m(c);throw b.error(a),a}},c),{})}(a.adapter,n),callbacks:{...b7,...a.callbacks},logger:n,callbackUrl:d.origin,isOnRedirectProxy:r,experimental:{...a.experimental}},t=[];if(h)s.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await bX({options:s,cookieValue:e?.[s.cookies.csrfToken.name],isPost:j,bodyValue:g});s.csrfToken=a,s.csrfTokenVerified=c,b&&t.push({name:s.cookies.csrfToken.name,value:b,options:s.cookies.csrfToken.options})}let{callbackUrl:u,callbackUrlCookie:v}=await bM({options:s,cookieValue:e?.[s.cookies.callbackUrl.name],paramValue:f});return s.callbackUrl=u,v&&t.push({name:s.cookies.callbackUrl.name,value:v,options:s.cookies.callbackUrl.options}),{options:s,cookies:t}}var b9,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck={},cl=[],cm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function cn(a,b){for(var c in b)a[c]=b[c];return a}function co(a){var b=a.parentNode;b&&b.removeChild(a)}function cp(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==e?++ch:e};return null==e&&null!=cg.vnode&&cg.vnode(f),f}function cq(a){return a.children}function cr(a,b){this.props=a,this.context=b}function cs(a,b){if(null==b)return a.__?cs(a.__,a.__.__k.indexOf(a)+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?cs(a):null}function ct(a){(!a.__d&&(a.__d=!0)&&ci.push(a)&&!cu.__r++||cj!==cg.debounceRendering)&&((cj=cg.debounceRendering)||setTimeout)(cu)}function cu(){for(var a;cu.__r=ci.length;)a=ci.sort(function(a,b){return a.__v.__b-b.__v.__b}),ci=[],a.some(function(a){var b,c,d,e,f;a.__d&&(e=(d=a.__v).__e,(f=a.__P)&&(b=[],(c=cn({},d)).__v=d.__v+1,cB(f,d,c,a.__n,void 0!==f.ownerSVGElement,null!=d.__h?[e]:null,b,null==e?cs(d):e,d.__h),function(a,b){cg.__c&&cg.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){cg.__e(a,b.__v)}})}(b,d),d.__e!=e&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)))})}function cv(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r=d&&d.__k||cl,s=r.length;for(c.__k=[],k=0;k<b.length;k++)if(null!=(n=c.__k[k]=null==(n=b[k])||"boolean"==typeof n?null:"string"==typeof n||"number"==typeof n||"bigint"==typeof n?cp(null,n,null,null,n):Array.isArray(n)?cp(cq,{children:n},null,null,null):n.__b>0?cp(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)){if(n.__=c,n.__b=c.__b+1,null===(m=r[k])||m&&n.key==m.key&&n.type===m.type)r[k]=void 0;else for(l=0;l<s;l++){if((m=r[l])&&n.key==m.key&&n.type===m.type){r[l]=void 0;break}m=null}cB(a,n,m=m||ck,e,f,g,h,i,j),o=n.__e,(l=n.ref)&&m.ref!=l&&(q||(q=[]),m.ref&&q.push(m.ref,null,n),q.push(l,n.__c||o,n)),null!=o?(null==p&&(p=o),"function"==typeof n.type&&n.__k===m.__k?n.__d=i=function a(b,c,d){for(var e,f=b.__k,g=0;f&&g<f.length;g++)(e=f[g])&&(e.__=b,c="function"==typeof e.type?a(e,c,d):cw(d,e,e,f,e.__e,c));return c}(n,i,a):i=cw(a,n,m,r,o,i),"function"==typeof c.type&&(c.__d=i)):i&&m.__e==i&&i.parentNode!=a&&(i=cs(m))}for(c.__e=p,k=s;k--;)null!=r[k]&&function a(b,c,d){var e,f;if(cg.unmount&&cg.unmount(b),(e=b.ref)&&(e.current&&e.current!==b.__e||cC(e,null,c)),null!=(e=b.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){cg.__e(a,c)}e.base=e.__P=null,b.__c=void 0}if(e=b.__k)for(f=0;f<e.length;f++)e[f]&&a(e[f],c,d||"function"!=typeof b.type);d||null==b.__e||co(b.__e),b.__=b.__e=b.__d=void 0}(r[k],r[k]);if(q)for(k=0;k<q.length;k++)cC(q[k],q[++k],q[++k])}function cw(a,b,c,d,e,f){var g,h,i;if(void 0!==b.__d)g=b.__d,b.__d=void 0;else if(null==c||e!=f||null==e.parentNode)a:if(null==f||f.parentNode!==a)a.appendChild(e),g=null;else{for(h=f,i=0;(h=h.nextSibling)&&i<d.length;i+=1)if(h==e)break a;a.insertBefore(e,f),g=f}return void 0!==g?g:e.nextSibling}function cx(a,b,c){"-"===b[0]?a.setProperty(b,c):a[b]=null==c?"":"number"!=typeof c||cm.test(b)?c:c+"px"}function cy(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||cx(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||cx(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/Capture$/,"")),b=b.toLowerCase()in a?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d||a.addEventListener(b,f?cA:cz,f):a.removeEventListener(b,f?cA:cz,f);else if("dangerouslySetInnerHTML"!==b){if(e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==b&&"list"!==b&&"form"!==b&&"tabIndex"!==b&&"download"!==b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&-1==b.indexOf("-")?a.removeAttribute(b):a.setAttribute(b,c))}}function cz(a){this.l[a.type+!1](cg.event?cg.event(a):a)}function cA(a){this.l[a.type+!0](cg.event?cg.event(a):a)}function cB(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=b.type;if(void 0!==b.constructor)return null;null!=c.__h&&(i=c.__h,h=b.__e=c.__e,b.__h=null,f=[h]),(j=cg.__b)&&j(b);try{a:if("function"==typeof y){if(q=b.props,r=(j=y.contextType)&&d[j.__c],s=j?r?r.props.value:j.__:d,c.__c?p=(k=b.__c=c.__c).__=k.__E:("prototype"in y&&y.prototype.render?b.__c=k=new y(q,s):(b.__c=k=new cr(q,s),k.constructor=y,k.render=cD),r&&r.sub(k),k.props=q,k.state||(k.state={}),k.context=s,k.__n=d,l=k.__d=!0,k.__h=[],k._sb=[]),null==k.__s&&(k.__s=k.state),null!=y.getDerivedStateFromProps&&(k.__s==k.state&&(k.__s=cn({},k.__s)),cn(k.__s,y.getDerivedStateFromProps(q,k.__s))),m=k.props,n=k.state,l)null==y.getDerivedStateFromProps&&null!=k.componentWillMount&&k.componentWillMount(),null!=k.componentDidMount&&k.__h.push(k.componentDidMount);else{if(null==y.getDerivedStateFromProps&&q!==m&&null!=k.componentWillReceiveProps&&k.componentWillReceiveProps(q,s),!k.__e&&null!=k.shouldComponentUpdate&&!1===k.shouldComponentUpdate(q,k.__s,s)||b.__v===c.__v){for(k.props=q,k.state=k.__s,b.__v!==c.__v&&(k.__d=!1),k.__v=b,b.__e=c.__e,b.__k=c.__k,b.__k.forEach(function(a){a&&(a.__=b)}),t=0;t<k._sb.length;t++)k.__h.push(k._sb[t]);k._sb=[],k.__h.length&&g.push(k);break a}null!=k.componentWillUpdate&&k.componentWillUpdate(q,k.__s,s),null!=k.componentDidUpdate&&k.__h.push(function(){k.componentDidUpdate(m,n,o)})}if(k.context=s,k.props=q,k.__v=b,k.__P=a,u=cg.__r,v=0,"prototype"in y&&y.prototype.render){for(k.state=k.__s,k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),w=0;w<k._sb.length;w++)k.__h.push(k._sb[w]);k._sb=[]}else do k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),k.state=k.__s;while(k.__d&&++v<25)k.state=k.__s,null!=k.getChildContext&&(d=cn(cn({},d),k.getChildContext())),l||null==k.getSnapshotBeforeUpdate||(o=k.getSnapshotBeforeUpdate(m,n)),x=null!=j&&j.type===cq&&null==j.key?j.props.children:j,cv(a,Array.isArray(x)?x:[x],b,c,d,e,f,g,h,i),k.base=b.__e,b.__h=null,k.__h.length&&g.push(k),p&&(k.__E=k.__=null),k.__e=!1}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h){var i,j,k,l=c.props,m=b.props,n=b.type,o=0;if("svg"===n&&(e=!0),null!=f){for(;o<f.length;o++)if((i=f[o])&&"setAttribute"in i==!!n&&(n?i.localName===n:3===i.nodeType)){a=i,f[o]=null;break}}if(null==a){if(null===n)return document.createTextNode(m);a=e?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n,m.is&&m),f=null,h=!1}if(null===n)l===m||h&&a.data===m||(a.data=m);else{if(f=f&&cf.call(a.childNodes),j=(l=c.props||ck).dangerouslySetInnerHTML,k=m.dangerouslySetInnerHTML,!h){if(null!=f)for(l={},o=0;o<a.attributes.length;o++)l[a.attributes[o].name]=a.attributes[o].value;(k||j)&&(k&&(j&&k.__html==j.__html||k.__html===a.innerHTML)||(a.innerHTML=k&&k.__html||""))}if(function(a,b,c,d,e){var f;for(f in c)"children"===f||"key"===f||f in b||cy(a,f,null,c[f],d);for(f in b)e&&"function"!=typeof b[f]||"children"===f||"key"===f||"value"===f||"checked"===f||c[f]===b[f]||cy(a,f,b[f],c[f],d)}(a,m,l,e,h),k)b.__k=[];else if(cv(a,Array.isArray(o=b.props.children)?o:[o],b,c,d,e&&"foreignObject"!==n,f,g,f?f[0]:c.__k&&cs(c,0),h),null!=f)for(o=f.length;o--;)null!=f[o]&&co(f[o]);h||("value"in m&&void 0!==(o=m.value)&&(o!==a.value||"progress"===n&&!o||"option"===n&&o!==l.value)&&cy(a,"value",o,l.value,!1),"checked"in m&&void 0!==(o=m.checked)&&o!==a.checked&&cy(a,"checked",o,l.checked,!1))}return a}(c.__e,b,c,d,e,f,g,i);(j=cg.diffed)&&j(b)}catch(a){b.__v=null,(i||null!=f)&&(b.__e=h,b.__h=!!i,f[f.indexOf(h)]=null),cg.__e(a,b,c)}}function cC(a,b,c){try{"function"==typeof a?a(b):a.current=b}catch(a){cg.__e(a,c)}}function cD(a,b,c){return this.constructor(a,c)}cf=cl.slice,cg={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},ch=0,cr.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=cn({},this.state),"function"==typeof a&&(a=a(cn({},c),this.props)),a&&cn(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),ct(this))},cr.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),ct(this))},cr.prototype.render=cq,ci=[],cu.__r=0;var cE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,cF=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,cG=/[\s\n\\/='"\0<>]/,cH=/^xlink:?./,cI=/["&<]/;function cJ(a){if(!1===cI.test(a+=""))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var cK=function(a,b){return String(a).replace(/(\n+)/g,"$1"+(b||"	"))},cL=function(a,b,c){return String(a).length>(b||40)||!c&&-1!==String(a).indexOf("\n")||-1!==String(a).indexOf("<")},cM={},cN=/([A-Z])/g;function cO(a){var b="";for(var c in a){var d=a[c];null!=d&&""!==d&&(b&&(b+=" "),b+="-"==c[0]?c:cM[c]||(cM[c]=c.replace(cN,"-$1").toLowerCase()),b="number"==typeof d&&!1===cE.test(c)?b+": "+d+"px;":b+": "+d+";")}return b||void 0}function cP(a,b){return Array.isArray(b)?b.reduce(cP,a):null!=b&&!1!==b&&a.push(b),a}function cQ(){this.__d=!0}function cR(a,b){return{__v:a,context:b,props:a.props,setState:cQ,forceUpdate:cQ,__d:!0,__h:[]}}function cS(a,b){var c=a.contextType,d=c&&b[c.__c];return null!=c?d?d.props.value:c.__:b}var cT=[],cU={shallow:!0};cW.render=cW;var cV=[];function cW(a,b,c){b=b||{};var d,e=cg.__s;return cg.__s=!0,d=c&&(c.pretty||c.voidElements||c.sortAttributes||c.shallow||c.allAttributes||c.xml||c.attributeHook)?function a(b,c,d,e,f,g){if(null==b||"boolean"==typeof b)return"";if("object"!=typeof b)return cJ(b);var h=d.pretty,i=h&&"string"==typeof h?h:"	";if(Array.isArray(b)){for(var j="",k=0;k<b.length;k++)h&&k>0&&(j+="\n"),j+=a(b[k],c,d,e,f,g);return j}var l,m=b.type,n=b.props,o=!1;if("function"==typeof m){if(o=!0,!d.shallow||!e&&!1!==d.renderRootComponent){if(m===cq){var p=[];return cP(p,b.props.children),a(p,c,d,!1!==d.shallowHighOrder,f,g)}var q,r=b.__c=cR(b,c);cg.__b&&cg.__b(b);var s=cg.__r;if(m.prototype&&"function"==typeof m.prototype.render){var t=cS(m,c);(r=b.__c=new m(n,t)).__v=b,r._dirty=r.__d=!0,r.props=n,null==r.state&&(r.state={}),null==r._nextState&&null==r.__s&&(r._nextState=r.__s=r.state),r.context=t,m.getDerivedStateFromProps?r.state=Object.assign({},r.state,m.getDerivedStateFromProps(r.props,r.state)):r.componentWillMount&&(r.componentWillMount(),r.state=r._nextState!==r.state?r._nextState:r.__s!==r.state?r.__s:r.state),s&&s(b),q=r.render(r.props,r.state,r.context)}else for(var u=cS(m,c),v=0;r.__d&&v++<25;)r.__d=!1,s&&s(b),q=m.call(b.__c,n,u);return r.getChildContext&&(c=Object.assign({},c,r.getChildContext())),cg.diffed&&cg.diffed(b),a(q,c,d,!1!==d.shallowHighOrder,f,g)}m=(l=m).displayName||l!==Function&&l.name||function(a){var b=(Function.prototype.toString.call(a).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!b){for(var c=-1,d=cT.length;d--;)if(cT[d]===a){c=d;break}c<0&&(c=cT.push(a)-1),b="UnnamedComponent"+c}return b}(l)}var w,x,y="<"+m;if(n){var z=Object.keys(n);d&&!0===d.sortAttributes&&z.sort();for(var A=0;A<z.length;A++){var B=z[A],C=n[B];if("children"!==B){if(!cG.test(B)&&(d&&d.allAttributes||"key"!==B&&"ref"!==B&&"__self"!==B&&"__source"!==B)){if("defaultValue"===B)B="value";else if("defaultChecked"===B)B="checked";else if("defaultSelected"===B)B="selected";else if("className"===B){if(void 0!==n.class)continue;B="class"}else f&&cH.test(B)&&(B=B.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===B){if(n.for)continue;B="for"}"style"===B&&C&&"object"==typeof C&&(C=cO(C)),"a"===B[0]&&"r"===B[1]&&"boolean"==typeof C&&(C=String(C));var D=d.attributeHook&&d.attributeHook(B,C,c,d,o);if(D||""===D)y+=D;else if("dangerouslySetInnerHTML"===B)x=C&&C.__html;else if("textarea"===m&&"value"===B)w=C;else if((C||0===C||""===C)&&"function"!=typeof C){if(!(!0!==C&&""!==C||(C=B,d&&d.xml))){y=y+" "+B;continue}if("value"===B){if("select"===m){g=C;continue}"option"===m&&g==C&&void 0===n.selected&&(y+=" selected")}y=y+" "+B+'="'+cJ(C)+'"'}}}else w=C}}if(h){var E=y.replace(/\n\s*/," ");E===y||~E.indexOf("\n")?h&&~y.indexOf("\n")&&(y+="\n"):y=E}if(y+=">",cG.test(m))throw Error(m+" is not a valid HTML tag name in "+y);var F,G=cF.test(m)||d.voidElements&&d.voidElements.test(m),H=[];if(x)h&&cL(x)&&(x="\n"+i+cK(x,i)),y+=x;else if(null!=w&&cP(F=[],w).length){for(var I=h&&~y.indexOf("\n"),J=!1,K=0;K<F.length;K++){var L=F[K];if(null!=L&&!1!==L){var M=a(L,c,d,!0,"svg"===m||"foreignObject"!==m&&f,g);if(h&&!I&&cL(M)&&(I=!0),M)if(h){var N=M.length>0&&"<"!=M[0];J&&N?H[H.length-1]+=M:H.push(M),J=N}else H.push(M)}}if(h&&I)for(var O=H.length;O--;)H[O]="\n"+i+cK(H[O],i)}if(H.length||x)y+=H.join("");else if(d&&d.xml)return y.substring(0,y.length-1)+" />";return!G||F||x?(h&&~y.indexOf("\n")&&(y+="\n"),y=y+"</"+m+">"):y=y.replace(/>$/," />"),y}(a,b,c):function a(b,c,d,e){if(null==b||!0===b||!1===b||""===b)return"";if("object"!=typeof b)return cJ(b);if(cX(b)){for(var f="",g=0;g<b.length;g++)f+=a(b[g],c,d,e);return f}cg.__b&&cg.__b(b);var h=b.type,i=b.props;if("function"==typeof h){if(h===cq)return a(b.props.children,c,d,e);var j,k,l,m,n,o=h.prototype&&"function"==typeof h.prototype.render?(j=c,l=cS(k=b.type,j),m=new k(b.props,l),b.__c=m,m.__v=b,m.__d=!0,m.props=b.props,null==m.state&&(m.state={}),null==m.__s&&(m.__s=m.state),m.context=l,k.getDerivedStateFromProps?m.state=cY({},m.state,k.getDerivedStateFromProps(m.props,m.state)):m.componentWillMount&&(m.componentWillMount(),m.state=m.__s!==m.state?m.__s:m.state),(n=cg.__r)&&n(b),m.render(m.props,m.state,m.context)):function(a,b){var c,d=cR(a,b),e=cS(a.type,b);a.__c=d;for(var f=cg.__r,g=0;d.__d&&g++<25;)d.__d=!1,f&&f(a),c=a.type.call(d,a.props,e);return c}(b,c),p=b.__c;p.getChildContext&&(c=cY({},c,p.getChildContext()));var q=a(o,c,d,e);return cg.diffed&&cg.diffed(b),q}var r,s,t="<";if(t+=h,i)for(var u in r=i.children,i){var v,w,x,y=i[u];if(!("key"===u||"ref"===u||"__self"===u||"__source"===u||"children"===u||"className"===u&&"class"in i||"htmlFor"===u&&"for"in i||cG.test(u))){if(w=u="className"===(v=u)?"class":"htmlFor"===v?"for":"defaultValue"===v?"value":"defaultChecked"===v?"checked":"defaultSelected"===v?"selected":d&&cH.test(v)?v.toLowerCase().replace(/^xlink:?/,"xlink:"):v,x=y,y="style"===w&&null!=x&&"object"==typeof x?cO(x):"a"===w[0]&&"r"===w[1]&&"boolean"==typeof x?String(x):x,"dangerouslySetInnerHTML"===u)s=y&&y.__html;else if("textarea"===h&&"value"===u)r=y;else if((y||0===y||""===y)&&"function"!=typeof y){if(!0===y||""===y){y=u,t=t+" "+u;continue}if("value"===u){if("select"===h){e=y;continue}"option"!==h||e!=y||"selected"in i||(t+=" selected")}t=t+" "+u+'="'+cJ(y)+'"'}}}var z=t;if(t+=">",cG.test(h))throw Error(h+" is not a valid HTML tag name in "+t);var A="",B=!1;if(s)A+=s,B=!0;else if("string"==typeof r)A+=cJ(r),B=!0;else if(cX(r))for(var C=0;C<r.length;C++){var D=r[C];if(null!=D&&!1!==D){var E=a(D,c,"svg"===h||"foreignObject"!==h&&d,e);E&&(A+=E,B=!0)}}else if(null!=r&&!1!==r&&!0!==r){var F=a(r,c,"svg"===h||"foreignObject"!==h&&d,e);F&&(A+=F,B=!0)}if(cg.diffed&&cg.diffed(b),B)t+=A;else if(cF.test(h))return z+" />";return t+"</"+h+">"}(a,b,!1,void 0),cg.__c&&cg.__c(a,cV),cg.__s=e,cV.length=0,d}var cX=Array.isArray,cY=Object.assign;cW.shallowRender=function(a,b){return cW(a,b,cU)};var cZ=0;function c$(a,b,c,d,e){var f,g,h={};for(g in b)"ref"==g?f=b[g]:h[g]=b[g];var i={type:a,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--cZ,__source:e,__self:d};if("function"==typeof a&&(f=a.defaultProps))for(g in f)void 0===h[g]&&(h[g]=f[g]);return cg.vnode&&cg.vnode(i),i}async function c_(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let c0={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},c1=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function c2({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${c1}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${cW(a)}</div></body></html>`}}function c3(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new F("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return c2({cookies:e,theme:c,html:function(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"undefined"!=typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"undefined"!=typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(c0[g]??c0.default),i=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return c$("div",{className:"signin",children:[e?.brandColor&&c$("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&c$("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),c$("div",{className:"card",children:[h&&c$("div",{className:"error",children:c$("p",{children:h})}),e?.logo&&c$("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,i;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:i=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let j=h??g??"#fff";return c$("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?c$("form",{action:a.signinUrl,method:"POST",children:[c$("input",{type:"hidden",name:"csrfToken",value:b}),d&&c$("input",{type:"hidden",name:"callbackUrl",value:d}),c$("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${j} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${j} 30%, #000)`},tabIndex:0,children:[c$("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),i&&c$("img",{loading:"lazy",height:24,src:i})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&c$("hr",{}),"email"===a.type&&c$("form",{action:a.signinUrl,method:"POST",children:[c$("input",{type:"hidden",name:"csrfToken",value:b}),c$("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),c$("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),c$("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&c$("form",{action:a.callbackUrl,method:"POST",children:[c$("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>c$("div",{children:[c$("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),c$("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),c$("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&c$("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[c$("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>c$("div",{children:[c$("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),c$("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),c$("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&c$("hr",{})]},a.id)})]}),i&&c$(cq,{children:c$("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${c_})(authURL, "${i}");
`}})})]})}({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:c2({cookies:e,theme:c,html:function(a){let{url:b,csrfToken:c,theme:d}=a;return c$("div",{className:"signout",children:[d?.brandColor&&c$("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&c$("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),c$("div",{className:"card",children:[d?.logo&&c$("img",{src:d.logo,alt:"Logo",className:"logo"}),c$("h1",{children:"Signout"}),c$("p",{children:"Are you sure you want to sign out?"}),c$("form",{action:b?.toString(),method:"POST",children:[c$("input",{type:"hidden",name:"csrfToken",value:c}),c$("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:f.verifyRequest,cookies:e}:c2({cookies:e,theme:c,html:function(a){let{url:b,theme:c}=a;return c$("div",{className:"verify-request",children:[c.brandColor&&c$("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),c$("div",{className:"card",children:[c.logo&&c$("img",{src:c.logo,alt:"Logo",className:"logo"}),c$("h1",{children:"Check your email"}),c$("p",{children:"A sign in link has been sent to your email address."}),c$("p",{children:c$("a",{className:"site",href:b.origin,children:b.host})})]})]})}({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:c2({cookies:e,theme:c,...function(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:c$("p",{children:c$("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:c$("div",{children:[c$("p",{children:"There is a problem with the server configuration."}),c$("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:c$("div",{children:[c$("p",{children:"You do not have permission to sign in."}),c$("p",{children:c$("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:c$("div",{children:[c$("p",{children:"The sign in link is no longer valid."}),c$("p",{children:"It may have been used already or it may have expired."})]}),signin:c$("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:c$("div",{className:"error",children:[d?.brandColor&&c$("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),c$("div",{className:"card",children:[d?.logo&&c$("img",{src:d?.logo,alt:"Logo",className:"logo"}),c$("h1",{children:h}),c$("div",{className:"message",children:i}),j]})]})}}({url:b,theme:c,error:a}),title:"Error"})}}function c4(a,b=Date.now()){return new Date(b+1e3*a)}async function c5(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=c,{createUser:k,updateUser:l,getUser:m,getUserByAccount:n,getUserByEmail:o,linkAccount:p,createSession:q,getSessionAndUser:r,deleteSession:s}=e,t=null,u=null,v=!1,w="jwt"===h;if(a)if(w)try{let b=d.cookies.sessionToken.name;(t=await f.decode({...f,token:a,salt:b}))&&"sub"in t&&t.sub&&(u=await m(t.sub))}catch{}else{let b=await r(a);b&&(t=b.session,u=b.user)}if("email"===j.type){let c=await o(b.email);return c?(u?.id!==c.id&&!w&&a&&await s(a),u=await l({id:c.id,emailVerified:new Date}),await g.updateUser?.({user:u})):(u=await k({...b,emailVerified:new Date}),await g.createUser?.({user:u}),v=!0),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:c4(d.session.maxAge)}),user:u,isNewUser:v}}if("webauthn"===j.type){let a=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(a){if(u){if(a.id===u.id){let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}throw new P("The account is already associated with another user",{provider:j.provider})}t=w?{}:await q({sessionToken:i(),userId:a.id,expires:c4(d.session.maxAge)});let b={...j,userId:a.id};return{session:t,user:a,isNewUser:v,account:b}}{if(u){await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}if(b.email?await o(b.email):null)throw new P("Another account already exists with the same e-mail address",{provider:j.provider});u=await k({...b}),await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),t=w?{}:await q({sessionToken:i(),userId:u.id,expires:c4(d.session.maxAge)});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:!0,account:a}}}let x=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(x){if(u){if(x.id===u.id)return{session:t,user:u,isNewUser:v};throw new A("The account is already associated with another user",{provider:j.provider})}return{session:t=w?{}:await q({sessionToken:i(),userId:x.id,expires:c4(d.session.maxAge)}),user:x,isNewUser:v}}{let{provider:a}=d,{type:c,provider:e,providerAccountId:f,userId:h,...l}=j;if(j=Object.assign(a.account(l)??{},{providerAccountId:f,provider:e,type:c,userId:h}),u)return await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t,user:u,isNewUser:v};let m=b.email?await o(b.email):null;if(m){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)u=m,v=!1;else throw new A("Another account already exists with the same e-mail address",{provider:j.provider})}else u=await k({...b,emailVerified:null}),v=!0;return await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:c4(d.session.maxAge)}),user:u,isNewUser:v}}}function c6(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(d="oauth4webapi/v3.8.2");let c7="ERR_INVALID_ARG_VALUE",c8="ERR_INVALID_ARG_TYPE";function c9(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let da=Symbol(),db=Symbol(),dc=Symbol(),dd=Symbol(),de=Symbol(),df=Symbol();Symbol();let dg=new TextEncoder,dh=new TextDecoder;function di(a){return"string"==typeof a?dg.encode(a):dh.decode(a)}function dj(a){return"string"==typeof a?f(a):e(a)}e=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},f=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw c9("The input to be decoded is not correctly encoded.",c7,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw c9("The input to be decoded is not correctly encoded.",c7,a)}};class dk extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=em,Error.captureStackTrace?.(this,this.constructor)}}class dl extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function dm(a,b,c){return new dl(a,{code:b,cause:c})}function dn(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function dp(a){c6(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(d&&!b.has("user-agent")&&b.set("user-agent",d),b.has("authorization"))throw c9('"options.headers" must not include the "authorization" header name',c7);return b}function dq(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw c9('"options.signal" must return or be an instance of AbortSignal',c8);return b}}function dr(a){return a.includes("//")?a.replace("//","/"):a}async function ds(a,b,c,d){if(!(a instanceof URL))throw c9(`"${b}" must be an instance of URL`,c8);dI(a,d?.[da]!==!0);let e=c(new URL(a.href)),f=dp(d?.headers);return f.set("accept","application/json"),(d?.[dd]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:dq(e,d?.signal)})}async function dt(a,b){return ds(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=dr(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=dr(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw c9('"options.algorithm" must be "oidc" (default), or "oauth2"',c7)}return a},b)}function du(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw c9(`${c} must be a number`,c8,e);if(a>0)return;if(b){if(0!==a)throw c9(`${c} must be a non-negative number`,c7,e);return}throw c9(`${c} must be a positive number`,c7,e)}catch(a){if(d)throw dm(a.message,d,e);throw a}}function dv(a,b,c,d){try{if("string"!=typeof a)throw c9(`${b} must be a string`,c8,d);if(0===a.length)throw c9(`${b} must not be empty`,c7,d)}catch(a){if(c)throw dm(a.message,c,d);throw a}}async function dw(a,b){if(!(a instanceof URL)&&a!==eI)throw c9('"expectedIssuerIdentifier" must be an instance of URL',c8);if(!c6(b,Response))throw c9('"response" must be an instance of Response',c8);if(200!==b.status)throw dm('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',es,b);eA(b);let c=await eH(b);if(dv(c.issuer,'"response" body "issuer" property',eq,{body:c}),a!==eI&&new URL(c.issuer).href!==a.href)throw dm('"response" body "issuer" property does not match the expected value',ex,{expected:a.href,body:c,attribute:"issuer"});return c}function dx(a){var b=a,c="application/json";if(dZ(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return dm(c,er,a)}(b,c)}function dy(){return dj(crypto.getRandomValues(new Uint8Array(32)))}async function dz(a){return dv(a,"codeVerifier"),dj(await crypto.subtle.digest("SHA-256",di(a)))}function dA(a){let b=a?.[db];return"number"==typeof b&&Number.isFinite(b)?b:0}function dB(a){let b=a?.[dc];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function dC(){return Math.floor(Date.now()/1e3)}function dD(a){if("object"!=typeof a||null===a)throw c9('"as" must be an object',c8);dv(a.issuer,'"as.issuer"')}function dE(a){if("object"!=typeof a||null===a)throw c9('"client" must be an object',c8);dv(a.client_id,'"client.client_id"')}function dF(a,b){let c=dC()+dA(b);return{jti:dy(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}async function dG(a,b,c){if(!c.usages.includes("sign"))throw c9('CryptoKey instances used for signing assertions must include "sign" in their "usages"',c7);let d=`${dj(di(JSON.stringify(a)))}.${dj(di(JSON.stringify(b)))}`,e=dj(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new dk("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(eB(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new dk("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return eB(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new dk("unsupported CryptoKey algorithm name",{cause:a})}(c),c,di(d)));return`${d}.${e}`}let dH=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function dI(a,b){if(b&&"https:"!==a.protocol)throw dm("only requests to HTTPS are allowed",et,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw dm("only HTTP and HTTPS requests are allowed",eu,a)}function dJ(a,b,c,d){let e;if("string"!=typeof a||!(e=dH(a)))throw dm(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?ey:ez,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return dI(e,d),e}function dK(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?dJ(a.mtls_endpoint_aliases[b],b,c,d):dJ(a[b],b,c,d)}class dL extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=el,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class dM extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=en,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class dN extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ek,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let dO="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",dP=RegExp("^[,\\s]*("+dO+")\\s(.*)"),dQ=RegExp("^[,\\s]*("+dO+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),dR=RegExp("^[,\\s]*"+("("+dO+")\\s*=\\s*(")+dO+")[,\\s]*(.*)"),dS=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function dT(a){if(a.status>399&&a.status<500){eA(a),dx(a);try{let b=await a.clone().json();if(dn(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function dU(a,b,c){if(a.status!==b){let b;if(d5(a),b=await dT(a))throw await a.body?.cancel(),new dL("server responded with an error in the response body",{cause:b,response:a});throw dm(`"response" is not a conform ${c} response (unexpected HTTP status code)`,es,a)}}function dV(a){if(!ea.has(a))throw c9('"options.DPoP" is not a valid DPoPHandle',c7)}async function dW(a,b,c,d,e,f){if(dv(a,'"accessToken"'),!(c instanceof URL))throw c9('"url" must be an instance of URL',c8);dI(c,f?.[da]!==!0),d=dp(d),f?.DPoP&&(dV(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[dd]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:dq(c,f?.signal)});return f?.DPoP?.cacheNonce(g,c),g}async function dX(a,b,c,d){dD(a),dE(b);let e=dK(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[da]!==!0),f=dp(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),dW(c,"GET",e,f,null,{...d,[db]:dA(b)})}let dY=Symbol();function dZ(a){return a.headers.get("content-type")?.split(";")[0]}async function d$(a,b,c,d,e){let f;if(dD(a),dE(b),!c6(d,Response))throw c9('"response" must be an instance of Response',c8);if(d5(d),200!==d.status)throw dm('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',es,d);if(eA(d),"application/jwt"===dZ(d)){let{claims:c,jwt:g}=await eC(await d.text(),eD.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),dA(b),dB(b),e?.[df]).then(d6.bind(void 0,b.client_id)).then(d8.bind(void 0,a));d2.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw dm("JWT UserInfo Response expected",eo,d);f=await eH(d)}if(dv(f.sub,'"response" body "sub" property',eq,{body:f}),c===dY);else if(dv(c,'"expectedSubject"'),f.sub!==c)throw dm('unexpected "response" body "sub" property value',ex,{expected:c,body:f,attribute:"sub"});return f}async function d_(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[dd]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:dq(d,g?.signal)})}async function d0(a,b,c,d,e,f){let g=dK(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[da]!==!0);e.set("grant_type",d);let h=dp(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(dV(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await d_(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i,g),i}let d1=new WeakMap,d2=new WeakMap;function d3(a){if(!a.id_token)return;let b=d1.get(a);if(!b)throw c9('"ref" was already garbage collected or did not resolve from the proper sources',c7);return b}async function d4(a,b,c,d,e,f){if(dD(a),dE(b),!c6(c,Response))throw c9('"response" must be an instance of Response',c8);await dU(c,200,"Token Endpoint"),eA(c);let g=await eH(c);if(dv(g.access_token,'"response" body "access_token" property',eq,{body:g}),dv(g.token_type,'"response" body "token_type" property',eq,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;du(a,!0,'"response" body "expires_in" property',eq,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&dv(g.refresh_token,'"response" body "refresh_token" property',eq,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw dm('"response" body "scope" property must be a string',eq,{body:g});if(void 0!==g.id_token){dv(g.id_token,'"response" body "id_token" property',eq,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(du(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await eC(g.id_token,eD.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),dA(b),dB(b),e).then(ee.bind(void 0,f)).then(d9.bind(void 0,a)).then(d7.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw dm('ID Token "aud" (audience) claim includes additional untrusted audiences',ew,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw dm('unexpected ID Token "azp" (authorized party) claim value',ew,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&du(h.auth_time,!0,'ID Token "auth_time" (authentication time)',eq,{claims:h}),d2.set(c,i),d1.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new dk("unsupported `token_type` value",{cause:{body:g}});return g}function d5(a){let b;if(b=function(a){if(!c6(a,Response))throw c9('"response" must be an instance of Response',c8);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(dP),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(dQ)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(dR)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(dS)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new dN("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function d6(a,b){return void 0!==b.claims.aud?d7(a,b):b}function d7(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw dm('unexpected JWT "aud" (audience) claim value',ew,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw dm('unexpected JWT "aud" (audience) claim value',ew,{expected:a,claims:b.claims,claim:"aud"});return b}function d8(a,b){return void 0!==b.claims.iss?d9(a,b):b}function d9(a,b){let c=a[eJ]?.(b)??a.issuer;if(b.claims.iss!==c)throw dm('unexpected JWT "iss" (issuer) claim value',ew,{expected:c,claims:b.claims,claim:"iss"});return b}let ea=new WeakSet,eb=Symbol();async function ec(a,b,c,d,e,f,g){if(dD(a),dE(b),!ea.has(d))throw c9('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',c7);dv(e,'"redirectUri"');let h=eE(d,"code");if(!h)throw dm('no authorization code in "callbackParameters"',eq);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==eb&&(dv(f,'"codeVerifier"'),i.set("code_verifier",f)),d0(a,b,c,"authorization_code",i,g)}let ed={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function ee(a,b){for(let c of a)if(void 0===b.claims[c])throw dm(`JWT "${c}" (${ed[c]}) claim missing`,eq,{claims:b.claims});return b}let ef=Symbol(),eg=Symbol();async function eh(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?ei(a,b,c,d.expectedNonce,d.maxAge,d[df],d.recognizedTokenTypes):ej(a,b,c,d?.[df],d?.recognizedTokenTypes)}async function ei(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=ef;break;case ef:break;default:dv(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=eg;break;case eg:break;default:du(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await d4(a,b,c,h,f,g);dv(i.id_token,'"response" body "id_token" property',eq,{body:i});let j=d3(i);if(e!==eg){let a=dC()+dA(b),c=dB(b);if(j.auth_time+e<a-c)throw dm("too much time has elapsed since the last End-User authentication",ev,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===ef){if(void 0!==j.nonce)throw dm('unexpected ID Token "nonce" claim value',ew,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw dm('unexpected ID Token "nonce" claim value',ew,{expected:d,claims:j,claim:"nonce"});return i}async function ej(a,b,c,d,e){let f=await d4(a,b,c,void 0,d,e),g=d3(f);if(g){if(void 0!==b.default_max_age){du(b.default_max_age,!0,'"client.default_max_age"');let a=dC()+dA(b),c=dB(b);if(g.auth_time+b.default_max_age<a-c)throw dm("too much time has elapsed since the last End-User authentication",ev,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw dm('unexpected ID Token "nonce" claim value',ew,{expected:void 0,claims:g,claim:"nonce"})}return f}let ek="OAUTH_WWW_AUTHENTICATE_CHALLENGE",el="OAUTH_RESPONSE_BODY_ERROR",em="OAUTH_UNSUPPORTED_OPERATION",en="OAUTH_AUTHORIZATION_RESPONSE_ERROR",eo="OAUTH_JWT_USERINFO_EXPECTED",ep="OAUTH_PARSE_ERROR",eq="OAUTH_INVALID_RESPONSE",er="OAUTH_RESPONSE_IS_NOT_JSON",es="OAUTH_RESPONSE_IS_NOT_CONFORM",et="OAUTH_HTTP_REQUEST_FORBIDDEN",eu="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",ev="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",ew="OAUTH_JWT_CLAIM_COMPARISON_FAILED",ex="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",ey="OAUTH_MISSING_SERVER_METADATA",ez="OAUTH_INVALID_SERVER_METADATA";function eA(a){if(a.bodyUsed)throw c9('"response" body has been used already',c7)}function eB(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new dk(`unsupported ${b.name} modulusLength`,{cause:a})}async function eC(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new dk("JWE decryption is not configured",{cause:a});if(3!==j)throw dm("Invalid JWT",eq,a);try{f=JSON.parse(di(dj(h)))}catch(a){throw dm("failed to parse JWT Header body as base64url encoded JSON",ep,a)}if(!dn(f))throw dm("JWT Header must be a top level object",eq,a);if(b(f),void 0!==f.crit)throw new dk('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(di(dj(i)))}catch(a){throw dm("failed to parse JWT Payload body as base64url encoded JSON",ep,a)}if(!dn(g))throw dm("JWT Payload must be a top level object",eq,a);let k=dC()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw dm('unexpected JWT "exp" (expiration time) claim type',eq,{claims:g});if(g.exp<=k-d)throw dm('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',ev,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw dm('unexpected JWT "iat" (issued at) claim type',eq,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw dm('unexpected JWT "iss" (issuer) claim type',eq,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw dm('unexpected JWT "nbf" (not before) claim type',eq,{claims:g});if(g.nbf>k+d)throw dm('unexpected JWT "nbf" (not before) claim value',ev,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw dm('unexpected JWT "aud" (audience) claim type',eq,{claims:g});return{header:f,claims:g,jwt:a}}function eD(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw dm('unexpected JWT "alg" header parameter',eq,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw dm('unexpected JWT "alg" header parameter',eq,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw dm('unexpected JWT "alg" header parameter',eq,{header:d,expected:c,reason:"default value"});return}throw dm('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function eE(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw dm(`"${b}" parameter must be provided only once`,eq);return c}let eF=Symbol(),eG=Symbol();async function eH(a,b=dx){let c;try{c=await a.json()}catch(c){throw b(a),dm('failed to parse "response" body as JSON',ep,c)}if(!dn(c))throw dm('"response" body must be a top level object',eq,{body:c});return c}let eI=Symbol(),eJ=Symbol();async function eK(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:900,expires:g});let h=await bJ({...c.jwt,maxAge:900,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function eL(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new u(`${a} cookie was missing`);let g=await bK({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new u(`${a} value could not be parsed`,{cause:b})}}function eM(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function eN(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await eL(b,h,e);return eM(b,e,d),i}}let eO={async create(a){let b=dy(),c=await dz(b);return{cookie:await eK("pkceCodeVerifier",b,a),value:c}},use:eN("pkce","pkceCodeVerifier")},eP="encodedState",eQ={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new u("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:dy()},e=await bJ({secret:a.jwt.secret,token:d,salt:eP,maxAge:900});return{cookie:await eK("state",e,a),value:e}},use:eN("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await bK({secret:b.jwt.secret,token:a,salt:eP});if(c)return c;throw Error("Invalid state")}catch(a){throw new u("State could not be decoded",{cause:a})}}},eR={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=dy();return{cookie:await eK("nonce",b,a),value:b}},use:eN("nonce","nonce")},eS="encodedWebauthnChallenge",eT={create:async(a,b,c)=>({cookie:await eK("webauthnChallenge",await bJ({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:eS,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await eL("webauthnChallenge",d,a),f=await bK({secret:a.jwt.secret,token:e,salt:eS});if(eM("webauthnChallenge",a,c),!f)throw new u("WebAuthn challenge was missing");return f}};function eU(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function eV(a,b,c){var d,e;let f,g,h,i,j,{logger:k,provider:l}=c,{token:m,userinfo:n}=l;if(m?.url&&"authjs.dev"!==m.url.host||n?.url&&"authjs.dev"!==n.url.host)f={issuer:l.issuer??"https://authjs.dev",token_endpoint:m?.url.toString(),userinfo_endpoint:n?.url.toString()};else{let a=new URL(l.issuer),b=await dt(a,{[da]:!0,[dd]:l[b1]});if(!(f=await dw(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!f.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let o={client_id:l.clientId,...l.client};switch(o.token_endpoint_auth_method){case void 0:case"client_secret_basic":g=(a,b,c,d)=>{var e,f;let g,h,i;d.set("authorization",(e=l.clientId,f=l.clientSecret,g=eU(e),h=eU(f),i=btoa(`${g}:${h}`),`Basic ${i}`))};break;case"client_secret_post":dv(d=l.clientSecret,'"clientSecret"'),g=(a,b,c,e)=>{c.set("client_id",b.client_id),c.set("client_secret",d)};break;case"client_secret_jwt":dv(e=l.clientSecret,'"clientSecret"'),j=void 0,g=async(a,b,c,d)=>{i||=await crypto.subtle.importKey("raw",di(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let f={alg:"HS256"},g=dF(a,b);j?.(f,g);let h=`${dj(di(JSON.stringify(f)))}.${dj(di(JSON.stringify(g)))}`,k=await crypto.subtle.sign(i.algorithm,i,di(h));c.set("client_id",b.client_id),c.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),c.set("client_assertion",`${h}.${dj(new Uint8Array(k))}`)};break;case"private_key_jwt":g=function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&dv(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw c9(`${e} must be a CryptoKey`,c8);if("private"!==c.type)throw c9(`${e} must be a private CryptoKey`,c7);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new dk("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new dk("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new dk("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new dk("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=dF(a,e);b?.[de]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await dG(h,i,c))}}(l.token.clientPrivateKey,{[de](a,b){b.aud=[f.issuer,f.token_endpoint]}});break;case"none":g=(a,b,c,d)=>{c.set("client_id",b.client_id)};break;default:throw Error("unsupported client authentication method")}let p=[],q=await eQ.use(b,p,c);try{h=function(a,b,c,d){var e;if(dD(a),dE(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw c9('"parameters" must be an instance of URLSearchParams, or URL',c8);if(eE(c,"response"))throw dm('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',eq,{parameters:c});let f=eE(c,"iss"),g=eE(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw dm('response parameter "iss" (issuer) missing',eq,{parameters:c});if(f&&f!==a.issuer)throw dm('unexpected "iss" (issuer) response parameter value',eq,{expected:a.issuer,parameters:c});switch(d){case void 0:case eG:if(void 0!==g)throw dm('unexpected "state" response parameter encountered',eq,{expected:void 0,parameters:c});break;case eF:break;default:if(dv(d,'"expectedState" argument'),g!==d)throw dm(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',eq,{expected:d,parameters:c})}if(eE(c,"error"))throw new dM("authorization response from the server is an error",{cause:c});let h=eE(c,"id_token"),i=eE(c,"token");if(void 0!==h||void 0!==i)throw new dk("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),ea.add(e),e}(f,o,new URLSearchParams(a),l.checks.includes("state")?q:eF)}catch(a){if(a instanceof dM){let b={providerId:l.id,...Object.fromEntries(a.cause.entries())};throw k.debug("OAuthCallbackError",b),new B("OAuth Provider returned an error",b)}throw a}let r=await eO.use(b,p,c),s=l.callbackUrl;!c.isOnRedirectProxy&&l.redirectProxyUrl&&(s=l.redirectProxyUrl);let t=await ec(f,o,g,h,s,r??"decoy",{[da]:!0,[dd]:(...a)=>(l.checks.includes("pkce")||a[1].body.delete("code_verifier"),(l[b1]??fetch)(...a))});l.token?.conform&&(t=await l.token.conform(t.clone())??t);let u={},v="oidc"===l.type;if(l[b2])switch(l.id){case"microsoft-entra-id":case"azure-ad":{let{tid:a}=function(a){let b,c;if("string"!=typeof a)throw new aw("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new aw("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new aw("Invalid JWT");if(!d)throw new aw("JWTs must contain a payload");try{b=an(d)}catch{throw new aw("Failed to base64url decode the payload")}try{c=JSON.parse(af.decode(b))}catch{throw new aw("Failed to parse the decoded payload as JSON")}if(!aU(c))throw new aw("Invalid JWT Claims Set");return c}((await t.clone().json()).id_token);if("string"==typeof a){let b=f.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(f.issuer.replace(b,a)),d=await dt(c,{[dd]:l[b1]});f=await dw(c,d)}}}let w=await eh(f,o,t,{expectedNonce:await eR.use(b,p,c),requireIdToken:v});if(v){let b=d3(w);if(u=b,l[b2]&&"apple"===l.id)try{u.user=JSON.parse(a?.user)}catch{}if(!1===l.idToken){let a=await dX(f,o,w.access_token,{[dd]:l[b1],[da]:!0});u=await d$(f,o,b.sub,a)}}else if(n?.request){let a=await n.request({tokens:w,provider:l});a instanceof Object&&(u=a)}else if(n?.url){let a=await dX(f,o,w.access_token,{[dd]:l[b1]});u=await a.json()}else throw TypeError("No userinfo endpoint configured");return w.expires_in&&(w.expires_at=Math.floor(Date.now()/1e3)+Number(w.expires_in)),{...await eW(u,l,w,k),profile:u,cookies:p}}async function eW(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new C(c,{provider:b.id}))}}async function eX(a,b,c,d){let e=await e0(a,b,c),{cookie:f}=await eT.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function eY(a,b,c,d){let e=await e_(a,b,c),{cookie:f}=await eT.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function eZ(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new k("Invalid WebAuthn Authentication response");let h=e3(e2(g.id)),i=await e.getAuthenticator(h);if(!i)throw new k(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await eT.use(a,b.cookies,c);try{var l;let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:{...l=i,credentialDeviceType:l.credentialDeviceType,transports:e4(l.transports),credentialID:e2(l.credentialID),credentialPublicKey:e2(l.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new O(a)}let{verified:n,authenticationInfo:o}=d;if(!n)throw new O("WebAuthn authentication response could not be verified");try{let{newCounter:a}=o;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new m(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:o.newCounter})}`,a)}let p=await e.getAccount(i.providerAccountId,f.id);if(!p)throw new k(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let q=await e.getUser(p.userId);if(!q)throw new k(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:p.userId})}`);return{account:p,user:q}}async function e$(a,b,c){var d;let e,{provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new k("Invalid WebAuthn Registration response");let{challenge:h,registerData:i}=await eT.use(a,b.cookies,c);if(!i)throw new k("Missing user registration data in WebAuthn challenge cookie");try{let c=f.getRelayingParty(a,b);e=await f.simpleWebAuthn.verifyRegistrationResponse({...f.verifyRegistrationOptions,expectedChallenge:h,response:g,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new O(a)}if(!e.verified||!e.registrationInfo)throw new O("WebAuthn registration response could not be verified");let j={providerAccountId:e3(e.registrationInfo.credentialID),provider:a.provider.id,type:f.type},l={providerAccountId:j.providerAccountId,counter:e.registrationInfo.counter,credentialID:e3(e.registrationInfo.credentialID),credentialPublicKey:e3(e.registrationInfo.credentialPublicKey),credentialBackedUp:e.registrationInfo.credentialBackedUp,credentialDeviceType:e.registrationInfo.credentialDeviceType,transports:(d=g.response.transports,d?.join(","))};return{user:i,account:j,authenticator:l}}async function e_(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:e2(a.credentialID),type:"public-key",transports:e4(a.transports)}))})}async function e0(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=bW(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:e2(a.credentialID),type:"public-key",transports:e4(a.transports)}))})}function e1(a){let{provider:b,adapter:c}=a;if(!c)throw new w("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new H("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function e2(a){return new Uint8Array(Buffer.from(a,"base64"))}function e3(a){return Buffer.from(a).toString("base64")}function e4(a){return a?a.split(","):void 0}async function e5(a,b,c,d){if(!b.provider)throw new H("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:l,callbackUrl:m,pages:n,jwt:p,events:q,callbacks:r,session:{strategy:t,maxAge:u},logger:v}=b,w="jwt"===t;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await eQ.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return v.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let k=await eV(h,a.cookies,b);k.cookies.length&&d.push(...k.cookies),v.debug("authorization result",k);let{user:o,account:s,profile:t}=k;if(!o||!s||!t)return{redirect:`${l}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:s.providerAccountId,provider:i.id})}let x=await e6({user:g??o,account:s,profile:t},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await c5(c.value,o,s,b);if(w){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await r.jwt({token:a,user:y,account:s,profile:t,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await p.encode({...p,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*u);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await q.signIn?.({user:y,account:s,profile:t,isNewUser:A}),A&&n.newUser)return{redirect:`${n.newUser}${n.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:m})}`,cookies:d};return{redirect:m,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await bV(`${a}${g}`)}),k=!!h,l=k&&h.expires.valueOf()<Date.now();if(!k||l||f&&h.identifier!==f)throw new J({hasInvite:k,expired:l});let{identifier:o}=h,s=await j.getUserByEmail(o)??{id:crypto.randomUUID(),email:o,emailVerified:null},t={providerAccountId:s.email,userId:s.id,type:"email",provider:i.id},v=await e6({user:s,account:t},b);if(v)return{redirect:v,cookies:d};let{user:x,session:y,isNewUser:z}=await c5(c.value,s,t,b);if(w){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await r.jwt({token:a,user:x,account:t,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await p.encode({...p,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*u);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await q.signIn?.({user:x,account:t,isNewUser:z}),z&&n.newUser)return{redirect:`${n.newUser}${n.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:m})}`,cookies:d};return{redirect:m,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>l.searchParams.set(a,b));let j=await i.authorize(a,new Request(l,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new s;let k={providerAccountId:j.id,type:"credentials",provider:i.id},n=await e6({user:j,account:k,credentials:a},b);if(n)return{redirect:n,cookies:d};let o={name:j.name,email:j.email,picture:j.image,sub:j.id},t=await r.jwt({token:o,user:j,account:k,isNewUser:!1,trigger:"signIn"});if(null===t)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await p.encode({...p,token:t,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*u);let g=c.chunk(e,{expires:f});d.push(...g)}return await q.signIn?.({user:j,account:k}),{redirect:m,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new k("Invalid action parameter");let i=e1(b);switch(h){case"authenticate":{let b=await eZ(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await e$(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await e6({user:e,account:f},b);let{user:j,isNewUser:l,session:o,account:s}=await c5(c.value,e,f,b);if(!s)throw new k("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),w){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await r.jwt({token:a,user:j,account:s,isNewUser:l,trigger:l?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await p.encode({...p,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*u);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:o.sessionToken,options:{...b.cookies.sessionToken.options,expires:o.expires}});if(await q.signIn?.({user:j,account:s,isNewUser:l}),l&&n.newUser)return{redirect:`${n.newUser}${n.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:m})}`,cookies:d};return{redirect:m,cookies:d}}throw new H(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof k)throw b;let a=new o(b,{provider:i.id});throw v.debug("callback route error details",{method:g,query:e,body:f}),a}}async function e6(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof k)throw a;throw new n(a)}if(!c)throw new n("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function e7(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json"},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=c4(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new v(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=c4(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new D(a))}return m}async function e8(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await dt(a,{[dd]:f[b1],[da]:!0}),c=await dw(a,b);if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await eQ.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await eO.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await eR.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function e9(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new n(a)}if(!c)throw new n("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,o=await e.generateVerificationToken?.()??bW(32),p=new Date(Date.now()+(e.maxAge??86400)*1e3),q=e.secret??b.secret,r=new URL(b.basePath,b.url.origin),s=e.sendVerificationRequest({identifier:h,token:o,expires:p,url:`${r}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:o,email:h})}`,provider:e,theme:m,request:new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}),t=g.createVerificationToken?.({identifier:h,token:await bV(`${o}${q}`),expires:p});return await Promise.all([s,t]),{redirect:`${r}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}async function fa(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await e8(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await e9(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function fb(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new E(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function fc(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function fd(a,b,c,d){let e=e1(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await fc(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(function(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}(g,!!h,i)){case"authenticate":return eY(e,a,j,d);case"register":if("string"==typeof j?.email)return eX(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function fe(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===b_,{options:h,cookies:i}=await b8({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),k=new j(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=c3({...h,query:a.query,cookies:i});switch(c){case"callback":return await e5(a,h,k,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await e7(h,k,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await fd(a,h,k,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&bY(c,b),await e5(a,h,k,i);case"session":return bY(c,b),await e7(h,k,i,!0,a.body?.data);case"signin":return bY(c,b),await fa(a,i,h);case"signout":return bY(c,b),await fb(i,k,h)}}throw new F(`Cannot handle action: ${c}`)}function ff(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&bQ(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function fg(a,b){let c=bQ(b),d=await bT(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=function(a,b){let{url:c}=a,d=[];if(!R&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new I(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new z("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!S(e,c.origin))return new r(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=i(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!S(g,c.origin))return new r(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new t(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)T=!0;else if("email"===b.type)U=!0;else if("webauthn"===b.type){var j;if(V=!0,b.simpleWebAuthnBrowserVersion&&(j=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(j)))return new k(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new M("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new N(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(T){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new G("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new y("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:m}=b,n=[];if(U||m?.strategy==="database"||!m?.strategy&&l)if(U){if(!l)return new w("Email login requires an adapter");n.push(...W)}else{if(!l)return new w("Database session requires an adapter");n.push(...X)}if(V){if(!b.experimental?.enableWebAuthn)return new Q("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!l)return new w("WebAuthn requires an adapter");n.push(...Y)}if(l){let a=n.filter(a=>!(a in l));if(a.length)return new x(`Required adapter methods were missing: ${a.join(", ")}`)}return R||(R=!0),d}(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new p(`The error page ${a?.error} should not require authentication`)),bU(c3({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===b0;try{let a=await fe(d,b);if(g)return a;let c=bU(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(m){c.error(m);let e=m instanceof k;if(e&&g&&!f)throw m;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let h=new URLSearchParams({error:m instanceof k&&L.has(m.type)?m.type:"Configuration"});m instanceof s&&h.set("code",m.code);let i=e&&m.kind||"error",j=b.pages?.[i]??`${b.basePath}/${i.toLowerCase()}`,l=`${d.url.origin}${j}?${h}`;if(f)return Response.json({url:l});return Response.redirect(l)}}var fh=a.i(42987);function fi(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new fh.NextRequest(d.replace(e,c),a)}function fj(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),function(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||bQ(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}(process.env,a,!0)}}var fk=a.i(59182);async function fl(a,b){return fg(new Request(ff("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function fm(a){return"function"==typeof a}function fn(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await (0,fk.headers)(),d=await a(void 0);return b?.(d),fl(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),fo([d,e],f)}if(fm(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),fo(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),fl(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve((0,fk.headers)()).then(b=>fl(b,a).then(a=>a.json()));if(b[0]instanceof Request)return fo([b[0],b[1]],a);if(fm(b[0])){let c=b[0];return async(...b)=>fo(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return fl(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function fo(a,b,c){let d=fi(a[0]),e=await fl(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=fh.NextResponse.next?.();if(g instanceof Response){var i,j,k;let a,c;h=g;let e=g.headers.get("Location"),{pathname:f}=d.nextUrl;e&&(i=f,j=new URL(e).pathname,k=b,a=j.replace(`${i}/`,""),c=Object.values(k.pages??{}),(fp.has(a)||c.includes(j))&&j===i)&&(g=!0)}else if(c)d.auth=f,h=await c(d,a[1])??fh.NextResponse.next();else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=fh.NextResponse.redirect(b)}}let l=new Response(h?.body,h);for(let a of e.headers.getSetCookie())l.headers.append("set-cookie",a);return l}let fp=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var fq=a.i(22632);async function fr(a,b={},c,d){let e=new Headers(await (0,fk.headers)()),{redirect:f=!0,redirectTo:g,...h}=b instanceof FormData?Object.fromEntries(b):b,i=g?.toString()??e.get("Referer")??"/",j=ff("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return j.searchParams.append("callbackUrl",i),f&&(0,fq.redirect)(j.toString()),j.toString();let k=`${j}/${a}?${new URLSearchParams(c)}`,l={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){l={id:e,type:c?.type??d.type};break}}if(!l.id){let a=`${j}?${new URLSearchParams({callbackUrl:i})}`;return f&&(0,fq.redirect)(a),a}"credentials"===l.type&&(k=k.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let m=new Request(k,{method:"POST",headers:e,body:new URLSearchParams({...h,callbackUrl:i})}),n=await fg(m,{...d,raw:b0,skipCSRFCheck:b_}),o=await (0,fk.cookies)();for(let a of n?.cookies??[])o.set(a.name,a.value,a.options);let p=(n instanceof Response?n.headers.get("Location"):n.redirect)??k;return f?(0,fq.redirect)(p):p}async function fs(a,b){let c=new Headers(await (0,fk.headers)());c.set("Content-Type","application/x-www-form-urlencoded");let d=ff("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),f=new Request(d,{method:"POST",headers:c,body:e}),g=await fg(f,{...b,raw:b0,skipCSRFCheck:b_}),h=await (0,fk.cookies)();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return a?.redirect??!0?(0,fq.redirect)(g.redirect):g}async function ft(a,b){let c=new Headers(await (0,fk.headers)());c.set("Content-Type","application/json");let d=new Request(ff("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await fg(d,{...b,raw:b0,skipCSRFCheck:b_}),f=await (0,fk.cookies)();for(let a of e?.cookies??[])f.set(a.name,a.value,a.options);return e.body}let{auth:fu,signIn:fv,signOut:fw,handlers:fx}=function(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return fj(c),fg(fi(b),c)};return{handlers:{GET:b,POST:b},auth:fn(a,a=>fj(a)),signIn:async(b,c,d)=>{let e=await a(void 0);return fj(e),fr(b,c,d,e)},signOut:async b=>{let c=await a(void 0);return fj(c),fs(b,c)},unstable_update:async b=>{let c=await a(void 0);return fj(c),ft(b,c)}}}fj(a);let b=b=>fg(fi(b),a);return{handlers:{GET:b,POST:b},auth:fn(a),signIn:(b,c,d)=>fr(b,c,d,a),signOut:b=>fs(b,a),unstable_update:b=>ft(b,a)}}({providers:[{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},authorize:async b=>{let c=b?.email;b?.password;let{default:d}=await a.A(84261),e=d(process.env.POSTGRES_URL,{ssl:"require"===process.env.POSTGRES_SSL?"require":void 0}),f=(await e`
          SELECT
            u.id, u.name, u.email, u.password, u.is_vip,
            COALESCE(STRING_AGG(r.name, ','), '') AS roles
          FROM users u
          LEFT JOIN user_roles ur ON ur.user_id = u.id
          LEFT JOIN roles r ON r.id = ur.role_id
          WHERE u.email = ${c}
          GROUP BY u.id
          LIMIT 1
        `)[0];return f?{id:f.id,name:f.name,email:f.email,isVip:f.is_vip,roles:(f.roles??"").split(",").filter(Boolean)}:null}}}],secret:process.env.AUTH_SECRET,session:{strategy:"jwt"},callbacks:{jwt:async({token:a,user:b})=>(b&&(a.isVip=b.isVip??!1,a.roles=b.roles??[]),a),session:async({session:a,token:b})=>(a.user={...a.user,id:b.sub,roles:b.roles??[],isVip:b.isVip??!1},a)}});a.s(["auth",0,fu,"handlers",0,fx,"signIn",0,fv,"signOut",0,fw],89787)}];

//# sourceMappingURL=nextjs1_4970276f._.js.map