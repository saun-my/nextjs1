{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/lib/learning/recommendation-engine.ts"],"sourcesContent":["// 智能学习路径推荐算法引擎\n\nimport { \n  UserProfile, \n  Course, \n  RecommendationResult, \n  RecommendationRequest, \n  RecommendationResponse,\n  SkillGap,\n  RecommendationWeights,\n  LearningProgress\n} from './types';\n\nexport class LearningRecommendationEngine {\n  private courses: Course[];\n  private userProgress: Map<string, LearningProgress>;\n\n  constructor(courses: Course[], userProgress: Map<string, LearningProgress>) {\n    this.courses = courses;\n    this.userProgress = userProgress;\n  }\n\n  /**\n   * 主要推荐方法\n   */\n  async generateRecommendations(request: RecommendationRequest): Promise<RecommendationResponse> {\n    const startTime = Date.now();\n    \n    // 获取用户画像\n    const userProfile = await this.getUserProfile(request.userId);\n    \n    // 计算推荐分数\n    const scoredCourses = this.courses\n      .filter(course => this.applyFilters(course, request.filters, userProfile))\n      .map(course => ({\n        course,\n        score: this.calculateRecommendationScore(course, userProfile, request.context),\n        reasons: this.generateRecommendationReasons(course, userProfile)\n      }))\n      .sort((a, b) => b.score - a.score);\n\n    // 生成技能缺口分析\n    const recommendations = scoredCourses.slice(0, request.limit || 10).map(item => {\n      const skillGaps = this.analyzeSkillGaps(item.course, userProfile);\n      return {\n        course: item.course,\n        score: item.score,\n        reasons: item.reasons,\n        confidence: this.calculateConfidence(item.score, skillGaps),\n        estimatedCompletionTime: this.estimateCompletionTime(item.course, userProfile),\n        skillGapAnalysis: skillGaps\n      };\n    });\n\n    return {\n      recommendations,\n      totalCount: scoredCourses.length,\n      queryTime: Date.now() - startTime,\n      hasMore: scoredCourses.length > (request.limit || 10)\n    };\n  }\n\n  /**\n   * 计算推荐分数\n   */\n  private calculateRecommendationScore(\n    course: Course, \n    userProfile: UserProfile,\n    context?: string\n  ): number {\n    const weights: RecommendationWeights = {\n      skillLevel: 0.25,\n      interests: 0.20,\n      learningStyle: 0.15,\n      difficulty: 0.15,\n      popularity: 0.10,\n      recency: 0.08,\n      completionRate: 0.07\n    };\n\n    let totalScore = 0;\n\n    // 1. 技能水平匹配 (25%)\n    totalScore += weights.skillLevel * this.calculateSkillLevelScore(course, userProfile);\n    \n    // 2. 兴趣匹配 (20%)\n    totalScore += weights.interests * this.calculateInterestScore(course, userProfile);\n    \n    // 3. 学习风格匹配 (15%)\n    totalScore += weights.learningStyle * this.calculateLearningStyleScore(course, userProfile);\n    \n    // 4. 难度适配 (15%)\n    totalScore += weights.difficulty * this.calculateDifficultyScore(course, userProfile);\n    \n    // 5. 受欢迎程度 (10%)\n    totalScore += weights.popularity * this.calculatePopularityScore(course);\n    \n    // 6. 内容新鲜度 (8%)\n    totalScore += weights.recency * this.calculateRecencyScore(course);\n    \n    // 7. 完成率 (7%)\n    totalScore += weights.completionRate * this.calculateCompletionRateScore(course);\n\n    // 上下文调整\n    if (context === 'home') {\n      totalScore *= 1.1; // 首页推荐稍微提高分数\n    }\n\n    return Math.min(totalScore * 100, 100); // 转换为0-100分\n  }\n\n  /**\n   * 技能水平评分\n   */\n  private calculateSkillLevelScore(course: Course, userProfile: UserProfile): number {\n    const difficultyMap = {\n      'beginner': 1,\n      'intermediate': 2,\n      'advanced': 3,\n      'expert': 4\n    };\n\n    const userLevel = difficultyMap[userProfile.skillLevel] || 1;\n    const courseLevel = difficultyMap[course.difficulty] || 1;\n    \n    // 理想的课程应该比用户当前水平高一级\n    const idealLevel = userLevel + 1;\n    \n    if (courseLevel === idealLevel) return 1.0;\n    if (courseLevel === userLevel) return 0.8;\n    if (courseLevel === userLevel + 2) return 0.6;\n    if (courseLevel < userLevel) return 0.3;\n    if (courseLevel > userLevel + 2) return 0.2;\n    \n    return 0.5;\n  }\n\n  /**\n   * 兴趣匹配评分\n   */\n  private calculateInterestScore(course: Course, userProfile: UserProfile): number {\n    const userInterests = new Set(userProfile.interests.map(i => i.toLowerCase()));\n    const courseTags = new Set(course.tags.map(t => t.toLowerCase()));\n    \n    // 计算交集\n    const intersection = new Set([...userInterests].filter(x => courseTags.has(x)));\n    const union = new Set([...userInterests, ...courseTags]);\n    \n    if (union.size === 0) return 0.5;\n    \n    return intersection.size / union.size;\n  }\n\n  /**\n   * 学习风格匹配评分\n   */\n  private calculateLearningStyleScore(course: Course, userProfile: UserProfile): number {\n    // 分析课程模块的学习风格\n    const styleCounts = new Map<string, number>();\n    course.modules.forEach(module => {\n      const style = this.getModuleLearningStyle(module);\n      styleCounts.set(style, (styleCounts.get(style) || 0) + 1);\n    });\n\n    const dominantStyle = this.getDominantLearningStyle(styleCounts);\n    const userStyle = userProfile.learningStyle;\n\n    if (dominantStyle === userStyle) return 1.0;\n    if (userStyle === 'mixed') return 0.8;\n    if (dominantStyle === 'interactive' && userStyle === 'visual') return 0.7;\n    if (dominantStyle === 'visual' && userStyle === 'interactive') return 0.7;\n    \n    return 0.4;\n  }\n\n  /**\n   * 难度适配评分\n   */\n  private calculateDifficultyScore(course: Course, userProfile: UserProfile): number {\n    const userPrefers = userProfile.preferredDifficulty;\n    const courseDifficulty = course.difficulty;\n\n    if (userPrefers === 'adaptive') {\n      // 自适应难度：基于用户历史表现\n      const userProgress = this.userProgress.get(userProfile.id);\n      if (userProgress) {\n        const avgScore = this.calculateAverageScore(userProgress);\n        if (avgScore > 80 && courseDifficulty === 'advanced') return 1.0;\n        if (avgScore > 60 && courseDifficulty === 'intermediate') return 0.9;\n        if (avgScore <= 60 && courseDifficulty === 'beginner') return 1.0;\n      }\n      return 0.6;\n    }\n\n    const difficultyPreference = {\n      'easy': ['beginner'],\n      'medium': ['beginner', 'intermediate'],\n      'hard': ['intermediate', 'advanced', 'expert']\n    };\n\n    const preferredDifficulties = difficultyPreference[userPrefers] || ['beginner'];\n    return preferredDifficulties.includes(courseDifficulty) ? 1.0 : 0.3;\n  }\n\n  /**\n   * 受欢迎程度评分\n   */\n  private calculatePopularityScore(course: Course): number {\n    const maxEnrollment = 10000; // 假设最大注册数\n    const maxRating = 5;\n    \n    const enrollmentScore = Math.min(course.enrollmentCount / maxEnrollment, 1);\n    const ratingScore = course.rating / maxRating;\n    \n    return (enrollmentScore * 0.6 + ratingScore * 0.4);\n  }\n\n  /**\n   * 内容新鲜度评分\n   */\n  private calculateRecencyScore(course: Course): number {\n    const now = new Date();\n    const courseDate = course.lastUpdated;\n    const daysDiff = (now.getTime() - courseDate.getTime()) / (1000 * 60 * 60 * 24);\n    \n    if (daysDiff < 30) return 1.0;      // 一个月内\n    if (daysDiff < 90) return 0.8;      // 三个月内\n    if (daysDiff < 180) return 0.6;     // 半年内\n    if (daysDiff < 365) return 0.4;     // 一年内\n    return 0.2;                          // 超过一年\n  }\n\n  /**\n   * 完成率评分\n   */\n  private calculateCompletionRateScore(course: Course): number {\n    return course.completionRate / 100;\n  }\n\n  /**\n   * 生成推荐理由\n   */\n  private generateRecommendationReasons(course: Course, userProfile: UserProfile): string[] {\n    const reasons: string[] = [];\n\n    // 技能匹配理由\n    const skillScore = this.calculateSkillLevelScore(course, userProfile);\n    if (skillScore > 0.8) {\n      reasons.push(`完美匹配你的${userProfile.skillLevel}技能水平`);\n    } else if (skillScore > 0.6) {\n      reasons.push(`适合你的技能水平，有助于技能提升`);\n    }\n\n    // 兴趣匹配理由\n    const interestScore = this.calculateInterestScore(course, userProfile);\n    if (interestScore > 0.7) {\n      const matchingInterests = userProfile.interests.filter(interest => \n        course.tags.some(tag => tag.toLowerCase().includes(interest.toLowerCase()))\n      );\n      reasons.push(`匹配你的兴趣：${matchingInterests.join('、')}`);\n    }\n\n    // 热门程度理由\n    if (course.enrollmentCount > 1000) {\n      reasons.push(`已有${course.enrollmentCount}人学习，广受欢迎`);\n    }\n\n    // 高评分理由\n    if (course.rating > 4.5) {\n      reasons.push(`评分高达${course.rating}分，质量优秀`);\n    }\n\n    // 学习风格理由\n    const styleScore = this.calculateLearningStyleScore(course, userProfile);\n    if (styleScore > 0.8) {\n      reasons.push(`符合你的${userProfile.learningStyle}学习风格`);\n    }\n\n    return reasons;\n  }\n\n  /**\n   * 分析技能缺口\n   */\n  private analyzeSkillGaps(course: Course, userProfile: UserProfile): SkillGap[] {\n    const skillGaps: SkillGap[] = [];\n    \n    course.learningObjectives.forEach(objective => {\n      const userSkillLevel = this.assessUserSkillLevel(userProfile, objective);\n      const requiredLevel = this.assessRequiredSkillLevel(objective);\n      \n      if (userSkillLevel < requiredLevel) {\n        skillGaps.push({\n          skill: objective,\n          currentLevel: userSkillLevel,\n          requiredLevel,\n          gap: requiredLevel - userSkillLevel,\n          priority: this.calculateGapPriority(requiredLevel - userSkillLevel),\n          recommendedCourses: this.findCoursesForSkill(objective)\n        });\n      }\n    });\n\n    return skillGaps.sort((a, b) => b.gap - a.gap);\n  }\n\n  /**\n   * 计算置信度\n   */\n  private calculateConfidence(score: number, skillGaps: SkillGap[]): number {\n    const baseConfidence = score / 100;\n    const skillGapPenalty = Math.min(skillGaps.length * 0.1, 0.3);\n    return Math.max(baseConfidence - skillGapPenalty, 0.1);\n  }\n\n  /**\n   * 估算完成时间\n   */\n  private estimateCompletionTime(course: Course, userProfile: UserProfile): number {\n    const baseHours = course.estimatedHours;\n    \n    // 根据用户学习速度调整\n    const speedMultiplier = this.getUserLearningSpeed(userProfile);\n    \n    // 根据难度调整\n    const difficultyMultiplier = this.getDifficultyMultiplier(course.difficulty, userProfile);\n    \n    return Math.round(baseHours * speedMultiplier * difficultyMultiplier);\n  }\n\n  // 辅助方法\n  private async getUserProfile(userId: string): Promise<UserProfile> {\n    // 这里应该从数据库获取用户数据\n    // 现在返回模拟数据\n    return {\n      id: userId,\n      name: '学习者',\n      email: 'learner@example.com',\n      skillLevel: 'intermediate',\n      interests: ['JavaScript', 'React', 'Web开发'],\n      learningGoals: ['成为全栈开发者', '掌握现代前端技术'],\n      completedCourses: ['course-1', 'course-2'],\n      currentCourses: ['course-3'],\n      learningStyle: 'interactive',\n      timeAvailability: 'moderate',\n      preferredDifficulty: 'adaptive'\n    };\n  }\n\n  private applyFilters(course: Course, filters: any, userProfile: UserProfile): boolean {\n    if (!filters) return true;\n\n    if (filters.excludeCompleted && userProfile.completedCourses.includes(course.id)) {\n      return false;\n    }\n\n    if (filters.maxDifficulty) {\n      const difficultyOrder = ['beginner', 'intermediate', 'advanced', 'expert'];\n      const courseLevel = difficultyOrder.indexOf(course.difficulty);\n      const maxLevel = difficultyOrder.indexOf(filters.maxDifficulty);\n      if (courseLevel > maxLevel) return false;\n    }\n\n    if (filters.categories && !filters.categories.includes(course.category)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  private getModuleLearningStyle(module: any): string {\n    // 简化实现\n    return 'interactive';\n  }\n\n  private getDominantLearningStyle(styleCounts: Map<string, number>): string {\n    return Array.from(styleCounts.entries()).sort((a, b) => b[1] - a[1])[0]?.[0] || 'text';\n  }\n\n  private calculateAverageScore(userProgress: LearningProgress): number {\n    if (!userProgress.assessmentScores.length) return 0;\n    const total = userProgress.assessmentScores.reduce((sum, score) => sum + score.score, 0);\n    return total / userProgress.assessmentScores.length;\n  }\n\n  private assessUserSkillLevel(userProfile: UserProfile, skill: string): number {\n    // 简化实现\n    return userProfile.skillLevel === 'intermediate' ? 5 : 3;\n  }\n\n  private assessRequiredSkillLevel(objective: string): number {\n    // 简化实现\n    return 7;\n  }\n\n  private calculateGapPriority(gap: number): 'high' | 'medium' | 'low' {\n    if (gap >= 4) return 'high';\n    if (gap >= 2) return 'medium';\n    return 'low';\n  }\n\n  private findCoursesForSkill(skill: string): string[] {\n    // 简化实现\n    return ['course-1', 'course-2'];\n  }\n\n  private getUserLearningSpeed(userProfile: UserProfile): number {\n    return userProfile.timeAvailability === 'moderate' ? 1.2 : 1.0;\n  }\n\n  private getDifficultyMultiplier(difficulty: string, userProfile: UserProfile): number {\n    const difficultyMap = {\n      'beginner': 0.8,\n      'intermediate': 1.0,\n      'advanced': 1.3,\n      'expert': 1.5\n    };\n    return difficultyMap[difficulty as keyof typeof difficultyMap] || 1.0;\n  }\n}\n\n// 示例数据生成器\nexport function generateSampleCourses(): Course[] {\n  return [\n    {\n      id: 'react-fundamentals',\n      title: 'React 基础教程',\n      description: '从零开始学习React，掌握现代前端开发的核心技能',\n      category: 'Frontend',\n      difficulty: 'beginner',\n      estimatedHours: 20,\n      prerequisites: ['html-css-basic', 'javascript-basic'],\n      tags: ['React', 'JavaScript', 'Frontend', 'Web开发'],\n      learningObjectives: ['掌握React组件开发', '理解状态管理', '学会使用Hooks'],\n      modules: [],\n      rating: 4.8,\n      enrollmentCount: 15420,\n      completionRate: 0.78,\n      lastUpdated: new Date('2024-01-15')\n    },\n    {\n      id: 'advanced-react-patterns',\n      title: 'React 高级模式',\n      description: '深入学习React高级模式和最佳实践',\n      category: 'Frontend',\n      difficulty: 'advanced',\n      estimatedHours: 35,\n      prerequisites: ['react-fundamentals', 'javascript-advanced'],\n      tags: ['React', 'JavaScript', 'Design Patterns', 'Performance'],\n      learningObjectives: ['掌握高级React模式', '优化应用性能', '构建可扩展应用'],\n      modules: [],\n      rating: 4.9,\n      enrollmentCount: 8930,\n      completionRate: 0.65,\n      lastUpdated: new Date('2024-02-01')\n    },\n    {\n      id: 'fullstack-nextjs',\n      title: '全栈 Next.js 开发',\n      description: '使用Next.js构建全栈Web应用',\n      category: 'Fullstack',\n      difficulty: 'intermediate',\n      estimatedHours: 45,\n      prerequisites: ['react-fundamentals', 'nodejs-basic'],\n      tags: ['Next.js', 'React', 'Fullstack', 'TypeScript'],\n      learningObjectives: ['掌握Next.js框架', '构建全栈应用', '部署生产应用'],\n      modules: [],\n      rating: 4.7,\n      enrollmentCount: 12350,\n      completionRate: 0.72,\n      lastUpdated: new Date('2024-01-20')\n    }\n  ];\n}\n\nexport function generateSampleUserProgress(): Map<string, LearningProgress> {\n  const progress = new Map<string, LearningProgress>();\n  \n  progress.set('user-1', {\n    userId: 'user-1',\n    courseId: 'react-fundamentals',\n    moduleProgress: [],\n    overallProgress: 75,\n    lastAccessed: new Date(),\n    timeSpent: 900,\n    assessmentScores: [\n      { assessmentId: 'quiz-1', score: 85, maxScore: 100, passed: true, completedAt: new Date(), attempts: 1 }\n    ],\n    achievements: []\n  });\n\n  return progress;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/hooks/useSmartRecommendations.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { \n  LearningRecommendationEngine, \n  generateSampleCourses, \n  generateSampleUserProgress \n} from '@/app/lib/learning/recommendation-engine';\nimport { \n  RecommendationRequest, \n  RecommendationResponse, \n  RecommendationResult,\n  UserProfile \n} from '@/app/lib/learning/types';\n\ninterface UseSmartRecommendationsProps {\n  userId: string;\n  context?: 'home' | 'course-detail' | 'learning-path' | 'search';\n  limit?: number;\n  filters?: any;\n  autoRefresh?: boolean;\n  refreshInterval?: number;\n}\n\ninterface UseSmartRecommendationsReturn {\n  recommendations: RecommendationResult[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n  hasMore: boolean;\n  totalCount: number;\n  userProfile: UserProfile | null;\n}\n\nexport function useSmartRecommendations({\n  userId,\n  context = 'home',\n  limit = 6,\n  filters = {},\n  autoRefresh = false,\n  refreshInterval = 300000\n}: UseSmartRecommendationsProps): UseSmartRecommendationsReturn {\n  const [recommendations, setRecommendations] = useState<RecommendationResult[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [hasMore, setHasMore] = useState(false);\n  const [totalCount, setTotalCount] = useState(0);\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\n  const [engine] = useState(() => {\n    const courses = generateSampleCourses();\n    const userProgress = generateSampleUserProgress();\n    return new LearningRecommendationEngine(courses, userProgress);\n  });\n\n  const fetchRecommendations = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const request: RecommendationRequest = {\n        userId,\n        context,\n        limit,\n        includeExplanations: true,\n        filters\n      };\n\n      const response: RecommendationResponse = await engine.generateRecommendations(request);\n      \n      setRecommendations(response.recommendations);\n      setHasMore(response.hasMore);\n      setTotalCount(response.totalCount);\n      \n      const profile = await engine.getUserProfile(userId);\n      setUserProfile(profile);\n      \n    } catch (err) {\n      setError(err instanceof Error ? err.message : '获取推荐失败');\n      console.error('Failed to fetch recommendations:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [userId, context, limit, filters, engine]);\n\n  const refresh = useCallback(async () => {\n    await fetchRecommendations();\n  }, [fetchRecommendations]);\n\n  useEffect(() => {\n    fetchRecommendations();\n  }, [fetchRecommendations]);\n\n  useEffect(() => {\n    if (!autoRefresh) return;\n\n    const interval = setInterval(() => {\n      fetchRecommendations();\n    }, refreshInterval);\n\n    return () => clearInterval(interval);\n  }, [autoRefresh, refreshInterval, fetchRecommendations]);\n\n  return {\n    recommendations,\n    loading,\n    error,\n    refresh,\n    hasMore,\n    totalCount,\n    userProfile\n  };\n}\n\nexport function useDemoRecommendations() {\n  return useSmartRecommendations({\n    userId: 'demo-user',\n    context: 'home',\n    limit: 6,\n    filters: {\n      excludeCompleted: true,\n      maxDifficulty: 'advanced'\n    }\n  });\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;AAkCO,SAAS,wBAAwB,EACtC,MAAM,EACN,UAAU,MAAM,EAChB,QAAQ,CAAC,EACT,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,kBAAkB,MAAM,EACK;IAC7B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,4NAAQ,EAAyB,EAAE;IACjF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4NAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,4NAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4NAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,4NAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,4NAAQ,EAAqB;IACnE,MAAM,CAAC,OAAO,GAAG,IAAA,4NAAQ,EAAC;QACxB,MAAM,UAAU,IAAA,sLAAqB;QACrC,MAAM,eAAe,IAAA,2LAA0B;QAC/C,OAAO,IAAI,6LAA4B,CAAC,SAAS;IACnD;IAEA,MAAM,uBAAuB,IAAA,+NAAW,EAAC;QACvC,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,UAAiC;gBACrC;gBACA;gBACA;gBACA,qBAAqB;gBACrB;YACF;YAEA,MAAM,WAAmC,MAAM,OAAO,uBAAuB,CAAC;YAE9E,mBAAmB,SAAS,eAAe;YAC3C,WAAW,SAAS,OAAO;YAC3B,cAAc,SAAS,UAAU;YAEjC,MAAM,UAAU,MAAM,OAAO,cAAc,CAAC;YAC5C,eAAe;QAEjB,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,QAAQ,KAAK,CAAC,oCAAoC;QACpD,SAAU;YACR,WAAW;QACb;IACF,GAAG;QAAC;QAAQ;QAAS;QAAO;QAAS;KAAO;IAE5C,MAAM,UAAU,IAAA,+NAAW,EAAC;QAC1B,MAAM;IACR,GAAG;QAAC;KAAqB;IAEzB,IAAA,6NAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAqB;IAEzB,IAAA,6NAAS,EAAC;QACR,IAAI,CAAC,aAAa;QAElB,MAAM,WAAW,YAAY;YAC3B;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAa;QAAiB;KAAqB;IAEvD,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;AAEO,SAAS;IACd,OAAO,wBAAwB;QAC7B,QAAQ;QACR,SAAS;QACT,OAAO;QACP,SAAS;YACP,kBAAkB;YAClB,eAAe;QACjB;IACF;AACF","debugId":null}},
    {"offset": {"line": 577, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function formatDate(date: Date | string): string {\n  const d = new Date(date)\n  return d.toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  })\n}\n\nexport function formatDuration(minutes: number): string {\n  if (minutes < 60) return `${minutes}分钟`\n  const hours = Math.floor(minutes / 60)\n  const remainingMinutes = minutes % 60\n  return remainingMinutes > 0 ? `${hours}小时${remainingMinutes}分钟` : `${hours}小时`\n}\n\nexport function formatCurrency(\n  amount: number,\n  currency: string = 'USD',\n  locale: string = 'en-US'\n): string {\n  // amounts are stored in cents; convert to currency units\n  return new Intl.NumberFormat(locale, {\n    style: 'currency',\n    currency,\n  }).format(amount / 100);\n}\n\nexport function generateYAxis<T extends { revenue: number }>(\n  revenueData: T[] | undefined | null\n): { yAxisLabels: string[]; topLabel: number } {\n  const hasData = Array.isArray(revenueData) && revenueData.length > 0;\n  const maxRevenue = hasData ? Math.max(...revenueData.map((r) => r.revenue)) : 0;\n\n  // Round up to a nice scale (nearest 1000)\n  const topLabel = maxRevenue > 0 ? Math.ceil(maxRevenue / 1000) * 1000 : 0;\n\n  // Build 5 evenly spaced labels from top → 0\n  const steps = 4;\n  const yAxisLabels: string[] = [];\n  for (let i = steps; i >= 0; i--) {\n    const value = topLabel > 0 ? Math.round((topLabel / steps) * i) : 0;\n    yAxisLabels.push(value.toLocaleString());\n  }\n\n  return { yAxisLabels, topLabel };\n}\n\nexport function formatDateToLocal(\n  date: Date | string,\n  locale: string = 'en-US'\n): string {\n  const d = new Date(date)\n  return new Intl.DateTimeFormat(locale, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  }).format(d)\n}\n\nexport function generatePagination(\n  currentPage: number,\n  totalPages: number\n): Array<number | string> {\n  const pages: Array<number | string> = []\n  const delta = 2\n  const start = Math.max(1, currentPage - delta)\n  const end = Math.min(totalPages, currentPage + delta)\n  const range: number[] = []\n\n  for (let i = start; i <= end; i++) range.push(i)\n\n  if (range[0] !== 1) {\n    pages.push(1)\n    if (range[0] > 2) pages.push('...')\n  }\n\n  pages.push(...range)\n\n  if (range[range.length - 1] !== totalPages) {\n    if (range[range.length - 1] < totalPages - 1) pages.push('...')\n    pages.push(totalPages)\n  }\n\n  return pages\n}\n\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): T {\n  let timeout: NodeJS.Timeout | null = null\n  return ((...args: Parameters<T>) => {\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), wait)\n  }) as T\n}\n\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): T {\n  let inThrottle: boolean = false\n  return ((...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args)\n      inThrottle = true\n      setTimeout(() => inThrottle = false, limit)\n    }\n  }) as T\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,iLAAO,EAAC,IAAA,wJAAI,EAAC;AACtB;AAEO,SAAS,WAAW,IAAmB;IAC5C,MAAM,IAAI,IAAI,KAAK;IACnB,OAAO,EAAE,kBAAkB,CAAC,SAAS;QACnC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAEO,SAAS,eAAe,OAAe;IAC5C,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,EAAE,CAAC;IACvC,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,mBAAmB,UAAU;IACnC,OAAO,mBAAmB,IAAI,GAAG,MAAM,EAAE,EAAE,iBAAiB,EAAE,CAAC,GAAG,GAAG,MAAM,EAAE,CAAC;AAChF;AAEO,SAAS,eACd,MAAc,EACd,WAAmB,KAAK,EACxB,SAAiB,OAAO;IAExB,yDAAyD;IACzD,OAAO,IAAI,KAAK,YAAY,CAAC,QAAQ;QACnC,OAAO;QACP;IACF,GAAG,MAAM,CAAC,SAAS;AACrB;AAEO,SAAS,cACd,WAAmC;IAEnC,MAAM,UAAU,MAAM,OAAO,CAAC,gBAAgB,YAAY,MAAM,GAAG;IACnE,MAAM,aAAa,UAAU,KAAK,GAAG,IAAI,YAAY,GAAG,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK;IAE9E,0CAA0C;IAC1C,MAAM,WAAW,aAAa,IAAI,KAAK,IAAI,CAAC,aAAa,QAAQ,OAAO;IAExE,4CAA4C;IAC5C,MAAM,QAAQ;IACd,MAAM,cAAwB,EAAE;IAChC,IAAK,IAAI,IAAI,OAAO,KAAK,GAAG,IAAK;QAC/B,MAAM,QAAQ,WAAW,IAAI,KAAK,KAAK,CAAC,AAAC,WAAW,QAAS,KAAK;QAClE,YAAY,IAAI,CAAC,MAAM,cAAc;IACvC;IAEA,OAAO;QAAE;QAAa;IAAS;AACjC;AAEO,SAAS,kBACd,IAAmB,EACnB,SAAiB,OAAO;IAExB,MAAM,IAAI,IAAI,KAAK;IACnB,OAAO,IAAI,KAAK,cAAc,CAAC,QAAQ;QACrC,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,mBACd,WAAmB,EACnB,UAAkB;IAElB,MAAM,QAAgC,EAAE;IACxC,MAAM,QAAQ;IACd,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,cAAc;IACxC,MAAM,MAAM,KAAK,GAAG,CAAC,YAAY,cAAc;IAC/C,MAAM,QAAkB,EAAE;IAE1B,IAAK,IAAI,IAAI,OAAO,KAAK,KAAK,IAAK,MAAM,IAAI,CAAC;IAE9C,IAAI,KAAK,CAAC,EAAE,KAAK,GAAG;QAClB,MAAM,IAAI,CAAC;QACX,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,MAAM,IAAI,CAAC;IAC/B;IAEA,MAAM,IAAI,IAAI;IAEd,IAAI,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,KAAK,YAAY;QAC1C,IAAI,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,GAAG,aAAa,GAAG,MAAM,IAAI,CAAC;QACzD,MAAM,IAAI,CAAC;IACb;IAEA,OAAO;AACT;AAEO,SAAS,SACd,IAAO,EACP,IAAY;IAEZ,IAAI,UAAiC;IACrC,OAAQ,CAAC,GAAG;QACV,IAAI,SAAS,aAAa;QAC1B,UAAU,WAAW,IAAM,QAAQ,OAAO;IAC5C;AACF;AAEO,SAAS,SACd,IAAO,EACP,KAAa;IAEb,IAAI,aAAsB;IAC1B,OAAQ,CAAC,GAAG;QACV,IAAI,CAAC,YAAY;YACf,QAAQ;YACR,aAAa;YACb,WAAW,IAAM,aAAa,OAAO;QACvC;IACF;AACF","debugId":null}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/components/SmartRecommendationCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Star, Clock, Users, TrendingUp, BookOpen, Award } from 'lucide-react';\nimport { RecommendationResult } from '@/app/lib/learning/types';\nimport { cn } from '@/app/lib/utils';\n\ninterface SmartRecommendationCardProps {\n  recommendation: RecommendationResult;\n  onSelect?: (id: string) => void;\n  onBookmark?: (id: string) => void;\n  onStartLearning?: (id: string) => void;\n  variant?: 'default' | 'compact' | 'detailed';\n  showExplanations?: boolean;\n  showProgress?: boolean;\n  className?: string;\n}\n\nexport function SmartRecommendationCard({\n  recommendation,\n  onSelect,\n  onBookmark,\n  onStartLearning,\n  variant = 'default',\n  showExplanations = true,\n  showProgress = true,\n  className\n}: SmartRecommendationCardProps) {\n  const { course, score, reasons, estimatedCompletionTime } = recommendation;\n  const { title, description, difficulty, category, tags, rating, enrolledCount, progress } = course;\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case 'beginner': return 'bg-green-100 text-green-800';\n      case 'intermediate': return 'bg-yellow-100 text-yellow-800';\n      case 'advanced': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600';\n    if (score >= 70) return 'text-blue-600';\n    if (score >= 50) return 'text-yellow-600';\n    return 'text-gray-600';\n  };\n\n  const formatDuration = (minutes: number) => {\n    if (minutes < 60) return `${minutes}分钟`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return remainingMinutes > 0 ? `${hours}小时${remainingMinutes}分钟` : `${hours}小时`;\n  };\n\n  if (variant === 'compact') {\n    return (\n      <div className={cn(\n        \"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer\",\n        className\n      )}\n      onClick={() => onSelect?.(course.id)}>\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-sm font-medium text-gray-900 truncate\">{title}</h3>\n            <p className=\"text-xs text-gray-500 mt-1\">{category}</p>\n          </div>\n          <div className=\"flex items-center ml-2\">\n            <Star className=\"h-3 w-3 text-yellow-400 fill-current\" />\n            <span className=\"text-xs text-gray-600 ml-1\">{rating}</span>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center justify-between mt-3\">\n          <span className={cn(\n            \"px-2 py-1 text-xs rounded-full\",\n            getDifficultyColor(difficulty)\n          )}>\n            {difficulty}\n          </span>\n          <div className=\"flex items-center text-xs text-gray-500\">\n            <Clock className=\"h-3 w-3 mr-1\" />\n            {formatDuration(estimatedCompletionTime)}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\n      \"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300\",\n      className\n    )}>\n      {/* 头部 */}\n      <div className=\"relative\">\n        <div className=\"h-32 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden\">\n          <div className=\"absolute inset-0 bg-black bg-opacity-20\" />\n          <div className=\"absolute top-4 right-4\">\n            <div className={cn(\n              \"px-3 py-1 rounded-full text-xs font-medium\",\n              getDifficultyColor(difficulty)\n            )}>\n              {difficulty}\n            </div>\n          </div>\n          <div className=\"absolute bottom-4 left-4 right-4\">\n            <h3 className=\"text-white font-bold text-lg line-clamp-2\">{title}</h3>\n          </div>\n        </div>\n        \n        {/* 推荐分数徽章 */}\n        <div className=\"absolute -top-2 -right-2 bg-white rounded-full p-2 shadow-lg\">\n          <div className={cn(\"text-center\", getScoreColor(score * 100))}>\n            <div className=\"text-lg font-bold\">{Math.round(score * 100)}</div>\n            <div className=\"text-xs text-gray-500\">匹配度</div>\n          </div>\n        </div>\n      </div>\n\n      {/* 内容 */}\n      <div className=\"p-6\">\n        <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">{description}</p>\n        \n        {/* 标签 */}\n        {tags && tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-2 mb-4\">\n            {tags.slice(0, 3).map((tag, index) => (\n              <span key={index} className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\">\n                {tag}\n              </span>\n            ))}\n          </div>\n        )}\n\n        {/* 统计信息 */}\n        <div className=\"flex items-center justify-between text-sm text-gray-500 mb-4\">\n          <div className=\"flex items-center\">\n            <Star className=\"h-4 w-4 text-yellow-400 fill-current mr-1\" />\n            <span>{rating}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <Users className=\"h-4 w-4 mr-1\" />\n            <span>{enrolledCount}人学习</span>\n          </div>\n          <div className=\"flex items-center\">\n            <Clock className=\"h-4 w-4 mr-1\" />\n            <span>{formatDuration(estimatedCompletionTime)}</span>\n          </div>\n        </div>\n\n        {/* 学习进度 */}\n        {showProgress && progress && progress > 0 && (\n          <div className=\"mb-4\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm font-medium text-gray-700\">学习进度</span>\n              <span className=\"text-sm text-gray-500\">{Math.round(progress)}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* 推荐理由 */}\n        {showExplanations && reasons && reasons.length > 0 && (\n          <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <TrendingUp className=\"h-4 w-4 text-blue-600 mr-2\" />\n              <span className=\"text-sm font-medium text-blue-900\">推荐理由</span>\n            </div>\n            <ul className=\"text-xs text-blue-800 space-y-1\">\n              {reasons.slice(0, 2).map((reason, index) => (\n                <li key={index} className=\"flex items-start\">\n                  <span className=\"w-1 h-1 bg-blue-600 rounded-full mt-1.5 mr-2 flex-shrink-0\" />\n                  {reason}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* 操作按钮 */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onStartLearning?.(course.id);\n            }}\n            className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\n          >\n            {progress && progress > 0 ? '继续学习' : '开始学习'}\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onBookmark?.(course.id);\n            }}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n          >\n            收藏\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function SmartRecommendationSkeleton() {\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-pulse\">\n      <div className=\"h-32 bg-gray-200\" />\n      <div className=\"p-6\">\n        <div className=\"h-4 bg-gray-200 rounded mb-4\" />\n        <div className=\"h-3 bg-gray-200 rounded mb-2\" />\n        <div className=\"h-3 bg-gray-200 rounded mb-4 w-2/3\" />\n        <div className=\"flex gap-2 mb-4\">\n          <div className=\"h-6 bg-gray-200 rounded-full w-16\" />\n          <div className=\"h-6 bg-gray-200 rounded-full w-20\" />\n        </div>\n        <div className=\"h-8 bg-gray-200 rounded-lg\" />\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/components/RecommendationFilters.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { X, Filter, Clock, BarChart3, Tag } from 'lucide-react';\nimport { cn } from '@/app/lib/utils';\n\ninterface RecommendationFiltersProps {\n  filters: any;\n  onFiltersChange: (filters: any) => void;\n  className?: string;\n}\n\nconst DIFFICULTY_OPTIONS = [\n  { value: 'beginner', label: '初级', color: 'bg-green-100 text-green-800' },\n  { value: 'intermediate', label: '中级', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'advanced', label: '高级', color: 'bg-red-100 text-red-800' }\n];\n\nconst CATEGORY_OPTIONS = [\n  { value: 'programming', label: '编程开发' },\n  { value: 'design', label: '设计创意' },\n  { value: 'business', label: '商业管理' },\n  { value: 'marketing', label: '市场营销' },\n  { value: 'data-science', label: '数据科学' },\n  { value: 'ai-ml', label: '人工智能' }\n];\n\nconst DURATION_OPTIONS = [\n  { value: 'short', label: '少于2小时', maxMinutes: 120 },\n  { value: 'medium', label: '2-8小时', minMinutes: 120, maxMinutes: 480 },\n  { value: 'long', label: '8小时以上', minMinutes: 480 }\n];\n\nexport function RecommendationFilters({\n  filters,\n  onFiltersChange,\n  className\n}: RecommendationFiltersProps) {\n  const [localFilters, setLocalFilters] = useState(filters);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  const handleFilterChange = useCallback((key: string, value: any) => {\n    const newFilters = { ...localFilters, [key]: value };\n    setLocalFilters(newFilters);\n    onFiltersChange(newFilters);\n  }, [localFilters, onFiltersChange]);\n\n  const toggleArrayFilter = useCallback((key: string, value: string) => {\n    const current = localFilters[key] || [];\n    const newValues = current.includes(value)\n      ? current.filter((v: string) => v !== value)\n      : [...current, value];\n    handleFilterChange(key, newValues);\n  }, [localFilters, handleFilterChange]);\n\n  const clearAllFilters = useCallback(() => {\n    const clearedFilters = {\n      difficulty: [],\n      category: [],\n      duration: [],\n      excludeCompleted: true,\n      maxDifficulty: 'advanced'\n    };\n    setLocalFilters(clearedFilters);\n    onFiltersChange(clearedFilters);\n  }, [onFiltersChange]);\n\n  const hasActiveFilters = \n    localFilters.difficulty.length > 0 ||\n    localFilters.category.length > 0 ||\n    localFilters.duration.length > 0;\n\n  return (\n    <div className={cn(\"bg-white rounded-lg border border-gray-200 p-6\", className)}>\n      {/* 头部 */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-5 w-5 text-gray-600\" />\n          <h3 className=\"text-lg font-medium text-gray-900\">筛选条件</h3>\n        </div>\n        {hasActiveFilters && (\n          <button\n            onClick={clearAllFilters}\n            className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n          >\n            清除全部\n          </button>\n        )}\n      </div>\n\n      {/* 基础筛选 */}\n      <div className=\"space-y-6\">\n        {/* 难度筛选 */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3\">\n            <BarChart3 className=\"h-4 w-4\" />\n            难度等级\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {DIFFICULTY_OPTIONS.map((option) => (\n              <button\n                key={option.value}\n                onClick={() => toggleArrayFilter('difficulty', option.value)}\n                className={cn(\n                  \"px-3 py-2 rounded-lg text-sm font-medium border transition-colors\",\n                  localFilters.difficulty.includes(option.value)\n                    ? \"border-blue-500 bg-blue-50 text-blue-700\"\n                    : \"border-gray-300 bg-white text-gray-700 hover:bg-gray-50\"\n                )}\n              >\n                {option.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* 分类筛选 */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3\">\n            <Tag className=\"h-4 w-4\" />\n            课程分类\n          </label>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n            {CATEGORY_OPTIONS.map((option) => (\n              <button\n                key={option.value}\n                onClick={() => toggleArrayFilter('category', option.value)}\n                className={cn(\n                  \"px-3 py-2 rounded-lg text-sm font-medium border transition-colors text-center\",\n                  localFilters.category.includes(option.value)\n                    ? \"border-blue-500 bg-blue-50 text-blue-700\"\n                    : \"border-gray-300 bg-white text-gray-700 hover:bg-gray-50\"\n                )}\n              >\n                {option.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* 时长筛选 */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3\">\n            <Clock className=\"h-4 w-4\" />\n            课程时长\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {DURATION_OPTIONS.map((option) => (\n              <button\n                key={option.value}\n                onClick={() => toggleArrayFilter('duration', option.value)}\n                className={cn(\n                  \"px-3 py-2 rounded-lg text-sm font-medium border transition-colors\",\n                  localFilters.duration.includes(option.value)\n                    ? \"border-blue-500 bg-blue-50 text-blue-700\"\n                    : \"border-gray-300 bg-white text-gray-700 hover:bg-gray-50\"\n                )}\n              >\n                {option.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* 高级选项 */}\n        <div className=\"pt-4 border-t border-gray-200\">\n          <button\n            onClick={() => setShowAdvanced(!showAdvanced)}\n            className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-700 font-medium\"\n          >\n            高级选项\n            <svg\n              className={cn(\"h-4 w-4 transition-transform\", showAdvanced && \"rotate-180\")}\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n            </svg>\n          </button>\n\n          {showAdvanced && (\n            <div className=\"mt-4 space-y-4\">\n              {/* 排除已完成课程 */}\n              <div className=\"flex items-center justify-between\">\n                <label className=\"text-sm font-medium text-gray-700\">\n                  排除已完成的课程\n                </label>\n                <button\n                  onClick={() => handleFilterChange('excludeCompleted', !localFilters.excludeCompleted)}\n                  className={cn(\n                    \"relative inline-flex h-6 w-11 items-center rounded-full transition-colors\",\n                    localFilters.excludeCompleted ? \"bg-blue-600\" : \"bg-gray-200\"\n                  )}\n                >\n                  <span\n                    className={cn(\n                      \"inline-block h-4 w-4 transform rounded-full bg-white transition-transform\",\n                      localFilters.excludeCompleted ? \"translate-x-6\" : \"translate-x-1\"\n                    )}\n                  />\n                </button>\n              </div>\n\n              {/* 最大难度限制 */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  最大难度等级\n                </label>\n                <select\n                  value={localFilters.maxDifficulty}\n                  onChange={(e) => handleFilterChange('maxDifficulty', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"beginner\">初级</option>\n                  <option value=\"intermediate\">中级</option>\n                  <option value=\"advanced\">高级</option>\n                  <option value=\"expert\">专家</option>\n                </select>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* 活动筛选标签 */}\n      {hasActiveFilters && (\n        <div className=\"mt-6 pt-4 border-t border-gray-200\">\n          <div className=\"flex flex-wrap gap-2\">\n            {localFilters.difficulty.map((diff: string) => {\n              const option = DIFFICULTY_OPTIONS.find(opt => opt.value === diff);\n              return option ? (\n                <span\n                  key={diff}\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\"\n                >\n                  {option.label}\n                  <button\n                    onClick={() => toggleArrayFilter('difficulty', diff)}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </span>\n              ) : null;\n            })}\n            {localFilters.category.map((cat: string) => {\n              const option = CATEGORY_OPTIONS.find(opt => opt.value === cat);\n              return option ? (\n                <span\n                  key={cat}\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\"\n                >\n                  {option.label}\n                  <button\n                    onClick={() => toggleArrayFilter('category', cat)}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </span>\n              ) : null;\n            })}\n            {localFilters.duration.map((dur: string) => {\n              const option = DURATION_OPTIONS.find(opt => opt.value === dur);\n              return option ? (\n                <span\n                  key={dur}\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full\"\n                >\n                  {option.label}\n                  <button\n                    onClick={() => toggleArrayFilter('duration', dur)}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </span>\n              ) : null;\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1817, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/components/SmartRecommendationGrid.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { Filter, RefreshCw, SlidersHorizontal } from 'lucide-react';\nimport { useDemoRecommendations } from '@/app/hooks/useSmartRecommendations';\nimport { SmartRecommendationCard, SmartRecommendationSkeleton } from './SmartRecommendationCard';\nimport { RecommendationFilters } from './RecommendationFilters';\nimport { cn } from '@/app/lib/utils';\n\ninterface SmartRecommendationGridProps {\n  title?: string;\n  subtitle?: string;\n  userId?: string;\n  context?: 'home' | 'course-detail' | 'learning-path' | 'search';\n  limit?: number;\n  showFilters?: boolean;\n  showHeader?: boolean;\n  className?: string;\n  onCourseSelect?: (courseId: string) => void;\n  onCourseBookmark?: (courseId: string) => void;\n  onCourseStart?: (courseId: string) => void;\n}\n\nexport function SmartRecommendationGrid({\n  title = \"为您推荐\",\n  subtitle = \"基于您的学习偏好和进度，为您精选最适合的课程\",\n  userId = 'demo-user',\n  context = 'home',\n  limit = 6,\n  showFilters = true,\n  showHeader = true,\n  className,\n  onCourseSelect,\n  onCourseBookmark,\n  onCourseStart\n}: SmartRecommendationGridProps) {\n  const [showFiltersPanel, setShowFiltersPanel] = useState(false);\n  const [filters, setFilters] = useState({\n    difficulty: [],\n    category: [],\n    duration: [],\n    excludeCompleted: true,\n    maxDifficulty: 'advanced'\n  });\n\n  const {\n    recommendations,\n    loading,\n    error,\n    refresh,\n    hasMore,\n    totalCount,\n    userProfile\n  } = useDemoRecommendations();\n\n  const handleFilterChange = useCallback((newFilters: any) => {\n    setFilters(newFilters);\n    // 这里可以触发重新获取推荐\n  }, []);\n\n  const handleRefresh = useCallback(async () => {\n    await refresh();\n  }, [refresh]);\n\n  if (error) {\n    return (\n      <div className={cn(\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\", className)}>\n        <div className=\"text-red-500 mb-2\">⚠️</div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">获取推荐失败</h3>\n        <p className=\"text-gray-600 mb-4\">{error}</p>\n        <button\n          onClick={handleRefresh}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\n        >\n          重试\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      {/* 头部 */}\n      {showHeader && (\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">{title}</h2>\n              {subtitle && (\n                <p className=\"text-gray-600 mt-1\">{subtitle}</p>\n              )}\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {showFilters && (\n                <button\n                  onClick={() => setShowFiltersPanel(!showFiltersPanel)}\n                  className={cn(\n                    \"flex items-center gap-2 px-3 py-2 rounded-lg border text-sm font-medium transition-colors\",\n                    showFiltersPanel \n                      ? \"bg-blue-50 border-blue-300 text-blue-700\" \n                      : \"bg-white border-gray-300 text-gray-700 hover:bg-gray-50\"\n                  )}\n                >\n                  <SlidersHorizontal className=\"h-4 w-4\" />\n                  筛选\n                </button>\n              )}\n              <button\n                onClick={handleRefresh}\n                disabled={loading}\n                className=\"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50\"\n              >\n                <RefreshCw className={cn(\"h-4 w-4\", loading && \"animate-spin\")} />\n                刷新\n              </button>\n            </div>\n          </div>\n\n          {/* 用户画像信息 */}\n          {userProfile && (\n            <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"font-medium text-gray-900\">您的学习画像</h3>\n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    {userProfile.learningStyle}型学习者，偏好{userProfile.preferredDifficulty}难度\n                  </p>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-2xl font-bold text-blue-600\">{totalCount}</div>\n                  <div className=\"text-xs text-gray-500\">推荐课程</div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* 筛选面板 */}\n      {showFiltersPanel && showFilters && (\n        <div className=\"mb-6\">\n          <RecommendationFilters\n            filters={filters}\n            onFiltersChange={handleFilterChange}\n          />\n        </div>\n      )}\n\n      {/* 推荐网格 */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {loading ? (\n          // 加载骨架屏\n          Array.from({ length: 6 }).map((_, index) => (\n            <SmartRecommendationSkeleton key={index} />\n          ))\n        ) : recommendations.length === 0 ? (\n          // 空状态\n          <div className=\"col-span-full text-center py-12\">\n            <div className=\"text-gray-400 mb-4\">\n              <BookOpen className=\"h-12 w-12 mx-auto\" />\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">暂无推荐课程</h3>\n            <p className=\"text-gray-600 mb-4\">试试调整筛选条件或刷新推荐</p>\n            <button\n              onClick={handleRefresh}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\n            >\n              刷新推荐\n            </button>\n          </div>\n        ) : (\n          // 推荐卡片\n          recommendations.map((recommendation) => (\n            <SmartRecommendationCard\n              key={recommendation.course.id}\n              recommendation={recommendation}\n              onSelect={onCourseSelect}\n              onBookmark={onCourseBookmark}\n              onStartLearning={onCourseStart}\n              showExplanations={true}\n              showProgress={true}\n            />\n          ))\n        )}\n      </div>\n\n      {/* 加载更多 */}\n      {hasMore && !loading && (\n        <div className=\"text-center mt-8\">\n          <button\n            onClick={() => {\n              // 这里可以实现加载更多逻辑\n              console.log('Load more recommendations');\n            }}\n            className=\"bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors\"\n          >\n            加载更多推荐\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SmartRecommendationGrid;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2184, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/learn/smart-path/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { BookOpen, Sparkles, TrendingUp } from 'lucide-react';\nimport { SmartRecommendationGrid } from '@/app/components/SmartRecommendationGrid';\n\nexport default function SmartPathPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* 页面头部 */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"text-center\">\n            <div className=\"flex items-center justify-center mb-4\">\n              <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 rounded-full p-3\">\n                <Sparkles className=\"h-8 w-8 text-white\" />\n              </div>\n            </div>\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n              智能学习路径推荐\n            </h1>\n            <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n              基于AI算法分析您的学习偏好、技能水平和职业目标，为您推荐最适合的学习路径\n            </p>\n          </div>\n\n          {/* 特色功能展示 */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12\">\n            <div className=\"text-center\">\n              <div className=\"bg-blue-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center\">\n                <TrendingUp className=\"h-8 w-8 text-blue-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">个性化推荐</h3>\n              <p className=\"text-gray-600\">\n                根据您的学习历史、技能评估和兴趣偏好，提供量身定制的学习建议\n              </p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"bg-green-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center\">\n                <BookOpen className=\"h-8 w-8 text-green-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">智能路径规划</h3>\n              <p className=\"text-gray-600\">\n                分析技能差距，推荐最优学习顺序，帮助您高效达成学习目标\n              </p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"bg-purple-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center\">\n                <Sparkles className=\"h-8 w-8 text-purple-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">实时优化</h3>\n              <p className=\"text-gray-600\">\n                持续学习您的反馈，不断优化推荐算法，提供更精准的建议\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 推荐内容区域 */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <SmartRecommendationGrid\n          title=\"为您推荐的课程\"\n          subtitle=\"基于您的学习画像和当前技能水平，我们为您精选了以下课程\"\n          userId=\"demo-user\"\n          context=\"learning-path\"\n          limit={9}\n          showFilters={true}\n          showHeader={true}\n          className=\"mb-12\"\n        />\n\n        {/* 学习路径建议 */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">推荐学习路径</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">前端开发路径</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3 p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">1</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">HTML & CSS 基础</div>\n                    <div className=\"text-sm text-gray-600\">构建网页的基础知识</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">2</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">JavaScript 核心</div>\n                    <div className=\"text-sm text-gray-600\">掌握编程逻辑和语法</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">3</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">React 框架</div>\n                    <div className=\"text-sm text-gray-600\">构建现代化用户界面</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">后端开发路径</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3 p-3 bg-green-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">1</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Node.js 基础</div>\n                    <div className=\"text-sm text-gray-600\">服务器端JavaScript</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-green-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">2</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">数据库设计</div>\n                    <div className=\"text-sm text-gray-600\">数据存储和管理</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3 p-3 bg-green-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">3</div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">API 开发</div>\n                    <div className=\"text-sm text-gray-600\">构建RESTful接口</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}