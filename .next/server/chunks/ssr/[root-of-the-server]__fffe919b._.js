module.exports=[37018,(a,b,c)=>{"use strict";b.exports=a.r(47193).vendored.contexts.HooksClientContext},76099,(a,b,c)=>{"use strict";b.exports=a.r(47193).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},47193,(a,b,c)=>{"use strict";b.exports=a.r(18622)},31047,(a,b,c)=>{"use strict";b.exports=a.r(47193).vendored["react-ssr"].ReactJsxRuntime},19173,(a,b,c)=>{"use strict";b.exports=a.r(47193).vendored["react-ssr"].React},74283,(a,b,c)=>{"use strict";b.exports=a.r(47193).vendored.contexts.AppRouterContext},81208,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},51,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},73184,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},89950,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},47747,a=>{"use strict";var b=a.i(31047),c=a.i(19173),d=a.i(6482);class e extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class f extends e{}async function g(a,b,c,d={}){let e=`${h(b)}/${a}`;try{let a={headers:{"Content-Type":"application/json",...d?.headers?.cookie?{cookie:d.headers.cookie}:{}}};d?.body&&(a.body=JSON.stringify(d.body),a.method="POST");let b=await fetch(e,a),c=await b.json();if(!b.ok)throw c;return c}catch(a){return c.error(new f(a.message,a)),null}}function h(a){return`${a.baseUrlServer}${a.basePathServer}`}function i(a){let b=new URL("http://localhost:3000/api/auth");a&&!a.startsWith("http")&&(a=`https://${a}`);let c=new URL(a||b),d=("/"===c.pathname?b.pathname:c.pathname).replace(/\/$/,""),e=`${c.origin}${d}`;return{origin:c.origin,host:c.host,path:d,base:e,toString:()=>e}}let j={baseUrl:i(process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePath:i(process.env.NEXTAUTH_URL).path,baseUrlServer:i(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePathServer:i(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},k={debug:console.debug,error:console.error,warn:console.warn};async function l(){let a=await g("csrf",j,k);return a?.csrfToken??""}async function m(){return g("providers",j,k)}async function n(a,b,c){let{redirect:d=!0}=b??{},e=b?.redirectTo??b?.callbackUrl??window.location.href,f=h(j),g=await m();if(!g){window.location.href=`${f}/error`;return}if(!a||!(a in g)){window.location.href=`${f}/signin?${new URLSearchParams({callbackUrl:e})}`;return}let i="credentials"===g[a].type,k="email"===g[a].type,n=`${f}/${i?"callback":"signin"}/${a}`,o=await l(),p=await fetch(`${n}?${new URLSearchParams(c)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...b,csrfToken:o,callbackUrl:e})}),q=await p.json();if(d||!(i||k)){let a=q.url??e;window.location.href=a,a.includes("#")&&window.location.reload();return}let r=new URL(q.url).searchParams.get("error"),s=new URL(q.url).searchParams.get("code");return p.ok&&await j._getSession({event:"storage"}),{error:r,code:s,status:p.status,ok:p.ok,url:r?null:q.url}}function o(){let a=(0,d.useSearchParams)(),e=(0,d.useRouter)(),f=a.get("redirectTo")||"/learn",[g,h]=(0,c.useState)("user@nextmail.com"),[i,j]=(0,c.useState)("123456"),[k,l]=(0,c.useState)(null),[m,o]=(0,c.useState)(!1);async function p(a){a.preventDefault(),o(!0),l(null);let b=await n("credentials",{email:g,password:i,callbackUrl:f,redirect:!1});b?.ok?(e.replace(f),e.refresh()):l("账号或密码不正确，请检查邮箱和密码。"),o(!1)}return(0,b.jsxs)("form",{onSubmit:p,className:"w-full max-w-sm rounded-lg border bg-white p-6 shadow",children:[(0,b.jsx)("h1",{className:"mb-4 text-xl font-semibold",children:"登录"}),(0,b.jsx)("label",{className:"mb-2 block text-sm text-gray-600",children:"邮箱"}),(0,b.jsx)("input",{type:"email",value:g,onChange:a=>h(a.target.value),className:"mb-4 w-full rounded border p-2",placeholder:"you@example.com",required:!0}),(0,b.jsx)("label",{className:"mb-2 block text-sm text-gray-600",children:"密码"}),(0,b.jsx)("input",{type:"password",value:i,onChange:a=>j(a.target.value),className:"mb-4 w-full rounded border p-2",placeholder:"••••••",required:!0}),k&&(0,b.jsx)("p",{className:"mb-3 text-sm text-red-600",children:k}),(0,b.jsx)("button",{type:"submit",className:"w-full rounded bg-blue-600 p-2 text-white hover:bg-blue-700 disabled:opacity-50",disabled:m,children:m?"登录中...":"登录"}),(0,b.jsx)("p",{className:"mt-3 text-xs text-gray-500",children:"默认账户：user@nextmail.com / 123456"})]})}function p(){return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-6",children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"text-gray-500",children:"加载中..."}),children:(0,b.jsx)(o,{})})})}c.createContext?.(void 0),a.s(["default",()=>p,"dynamic",0,"force-dynamic"],47747)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fffe919b._.js.map