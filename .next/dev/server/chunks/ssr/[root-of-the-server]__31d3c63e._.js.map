{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/ui/dashboard/FundLiveTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/nextjs1/app/ui/dashboard/FundLiveTable.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/nextjs1/app/ui/dashboard/FundLiveTable.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,kZAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8S,GAC3U,4EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/ui/dashboard/FundLiveTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/nextjs1/app/ui/dashboard/FundLiveTable.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/nextjs1/app/ui/dashboard/FundLiveTable.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,kZAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/dashboard/investments/page.tsx"],"sourcesContent":["import postgres from 'postgres';\nimport FundLiveTable from '@/app/ui/dashboard/FundLiveTable';\n\nasync function fetchInvestments() {\n  const sql = postgres(process.env.POSTGRES_URL || process.env.POSTGRES_URL_NON_POOLING!, {\n    ssl: process.env.POSTGRES_SSL === 'require' ? 'require' : undefined,\n  });\n  try {\n    const rows = await sql`SELECT id, user_id, fund_code, amount, price, trade_date, note FROM investments ORDER BY trade_date DESC LIMIT 100`;\n    return rows as any[];\n  } catch (e) {\n    return [] as any[];\n  }\n}\n\nasync function fetchFunds() {\n  try {\n    const origin = process.env.NEXT_PUBLIC_BASE_URL ?? (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : `http://localhost:${process.env.PORT ?? '3000'}`);\n    const res = await fetch(`${origin}/api/funds/list`, { cache: 'no-store' });\n    if (!res.ok) return [] as any[];\n    const data = await res.json();\n    return (data?.list || []) as any[];\n  } catch {\n    return [] as any[];\n  }\n}\n\nexport default async function DashboardInvestmentsPage() {\n  const [records, funds] = await Promise.all([fetchInvestments(), fetchFunds()]);\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-2xl font-bold\">Investments</h1>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b\">\n          <h2 className=\"text-lg font-semibold\">我的投资记录</h2>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">日期</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">基金代码</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">金额/份额</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">价格</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">用户ID</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500\">备注</th>\n              </tr>\n            </thead>\n            <tbody>\n              {records.map((r) => (\n                <tr key={r.id} className=\"border-t\">\n                  <td className=\"px-6 py-3\">{r.trade_date}</td>\n                  <td className=\"px-6 py-3\">{r.fund_code}</td>\n                  <td className=\"px-6 py-3\">{r.amount}</td>\n                  <td className=\"px-6 py-3\">{r.price}</td>\n                  <td className=\"px-6 py-3 text-xs text-gray-500\">{r.user_id}</td>\n                  <td className=\"px-6 py-3\">{r.note ?? ''}</td>\n                </tr>\n              ))}\n              {records.length === 0 && (\n                <tr>\n                  <td className=\"px-6 py-8 text-center text-gray-500\" colSpan={6}>暂无记录</td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <FundLiveTable />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,eAAe;IACb,MAAM,MAAM,IAAA,mNAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAG;QACtF,KAAK,QAAQ,GAAG,CAAC,YAAY,KAAK,YAAY,YAAY;IAC5D;IACA,IAAI;QACF,MAAM,OAAO,MAAM,GAAG,CAAC,kHAAkH,CAAC;QAC1I,OAAO;IACT,EAAE,OAAO,GAAG;QACV,OAAO,EAAE;IACX;AACF;AAEA,eAAe;IACb,IAAI;QACF,MAAM,SAAS,QAAQ,GAAG,CAAC,oBAAoB,IAAI,CAAC,QAAQ,GAAG,CAAC,UAAU,GAAG,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,iBAAiB,EAAE,QAAQ,GAAG,CAAC,IAAI,IAAI,QAAQ;QACnK,MAAM,MAAM,MAAM,MAAM,GAAG,OAAO,eAAe,CAAC,EAAE;YAAE,OAAO;QAAW;QACxE,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE;QACtB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAQ,MAAM,QAAQ,EAAE;IAC1B,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEe,eAAe;IAC5B,MAAM,CAAC,SAAS,MAAM,GAAG,MAAM,QAAQ,GAAG,CAAC;QAAC;QAAoB;KAAa;IAC7E,qBACE,wXAAC;QAAI,WAAU;;0BACb,wXAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,wXAAC;gBAAI,WAAU;;kCACb,wXAAC;wBAAI,WAAU;kCACb,cAAA,wXAAC;4BAAG,WAAU;sCAAwB;;;;;;;;;;;kCAExC,wXAAC;wBAAI,WAAU;kCACb,cAAA,wXAAC;4BAAM,WAAU;;8CACf,wXAAC;oCAAM,WAAU;8CACf,cAAA,wXAAC;;0DACC,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;0DACtE,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;0DACtE,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;0DACtE,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;0DACtE,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;0DACtE,wXAAC;gDAAG,WAAU;0DAAwD;;;;;;;;;;;;;;;;;8CAG1E,wXAAC;;wCACE,QAAQ,GAAG,CAAC,CAAC,kBACZ,wXAAC;gDAAc,WAAU;;kEACvB,wXAAC;wDAAG,WAAU;kEAAa,EAAE,UAAU;;;;;;kEACvC,wXAAC;wDAAG,WAAU;kEAAa,EAAE,SAAS;;;;;;kEACtC,wXAAC;wDAAG,WAAU;kEAAa,EAAE,MAAM;;;;;;kEACnC,wXAAC;wDAAG,WAAU;kEAAa,EAAE,KAAK;;;;;;kEAClC,wXAAC;wDAAG,WAAU;kEAAmC,EAAE,OAAO;;;;;;kEAC1D,wXAAC;wDAAG,WAAU;kEAAa,EAAE,IAAI,IAAI;;;;;;;+CAN9B,EAAE,EAAE;;;;;wCASd,QAAQ,MAAM,KAAK,mBAClB,wXAAC;sDACC,cAAA,wXAAC;gDAAG,WAAU;gDAAsC,SAAS;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ5E,wXAAC;gBAAI,WAAU;0BACb,cAAA,wXAAC,8JAAa;;;;;;;;;;;;;;;;AAItB","debugId":null}}]
}