{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/learn/courses/%5Bid%5D/page.tsx"],"sourcesContent":["import { Suspense } from 'react';\nimport postgres from 'postgres';\nasync function getCourse(id: string) {\n  const sql = postgres(process.env.POSTGRES_URL || process.env.POSTGRES_URL_NON_POOLING!, {\n    ssl: process.env.POSTGRES_SSL === 'require' ? 'require' : undefined,\n  });\n  const rows = await sql`\n    SELECT id, title, level, description, cover_url, lessons_count, estimated_hours, difficulty_score\n    FROM courses WHERE id = ${id}\n  `;\n  return rows[0] || null;\n}\n\nasync function getLessons(courseId: string) {\n  const sql = postgres(process.env.POSTGRES_URL || process.env.POSTGRES_URL_NON_POOLING!, {\n    ssl: process.env.POSTGRES_SSL === 'require' ? 'require' : undefined,\n  });\n  const rows = await sql`\n    SELECT id, course_id, title, objective, content, duration_min, order_index\n    FROM lessons WHERE course_id = ${courseId} ORDER BY order_index ASC\n  `;\n  return rows as any[];\n}\n\nasync function LessonList({ courseId }: { courseId: string }) {\n  const lessons = (await getLessons(courseId)) as any[];\n  return (\n    <ul className=\"space-y-2\">\n      {lessons.map((l: any) => (\n        <li key={l.id} className=\"rounded border p-3 hover:bg-gray-50\">\n          <a href={`/learn/lessons/${l.id}`}>\n            <div className=\"font-medium\">{l.title}</div>\n            <div className=\"text-sm text-gray-600\">{l.objective}</div>\n            <div className=\"text-xs text-gray-500\">{l.duration_min} min</div>\n          </a>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default async function Page(props: { params: Promise<{ id: string }> }) {\n  const { id } = await props.params;\n  const course = await getCourse(id);\n  if (!course) {\n    return <div className=\"text-red-600\">Course not found.</div>;\n  }\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-xl bg-gray-50 p-4\">\n        <h2 className=\"text-xl font-semibold\">{course.title}</h2>\n        <p className=\"text-sm text-gray-600\">{course.level}</p>\n        <p className=\"mt-2 text-gray-700\">{course.description}</p>\n      </div>\n      <h3 className=\"text-lg font-semibold\">Lessons</h3>\n      <Suspense fallback={<div>Loading lessons...</div>}>\n        <LessonList courseId={course.id} />\n      </Suspense>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AACA,eAAe,UAAU,EAAU;IACjC,MAAM,MAAM,IAAA,mNAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAG;QACtF,KAAK,QAAQ,GAAG,CAAC,YAAY,KAAK,YAAY,YAAY;IAC5D;IACA,MAAM,OAAO,MAAM,GAAG,CAAC;;4BAEG,EAAE,GAAG;EAC/B,CAAC;IACD,OAAO,IAAI,CAAC,EAAE,IAAI;AACpB;AAEA,eAAe,WAAW,QAAgB;IACxC,MAAM,MAAM,IAAA,mNAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAG;QACtF,KAAK,QAAQ,GAAG,CAAC,YAAY,KAAK,YAAY,YAAY;IAC5D;IACA,MAAM,OAAO,MAAM,GAAG,CAAC;;mCAEU,EAAE,SAAS;EAC5C,CAAC;IACD,OAAO;AACT;AAEA,eAAe,WAAW,EAAE,QAAQ,EAAwB;IAC1D,MAAM,UAAW,MAAM,WAAW;IAClC,qBACE,wXAAC;QAAG,WAAU;kBACX,QAAQ,GAAG,CAAC,CAAC,kBACZ,wXAAC;gBAAc,WAAU;0BACvB,cAAA,wXAAC;oBAAE,MAAM,CAAC,eAAe,EAAE,EAAE,EAAE,EAAE;;sCAC/B,wXAAC;4BAAI,WAAU;sCAAe,EAAE,KAAK;;;;;;sCACrC,wXAAC;4BAAI,WAAU;sCAAyB,EAAE,SAAS;;;;;;sCACnD,wXAAC;4BAAI,WAAU;;gCAAyB,EAAE,YAAY;gCAAC;;;;;;;;;;;;;eAJlD,EAAE,EAAE;;;;;;;;;;AAUrB;AAEe,eAAe,KAAK,KAA0C;IAC3E,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,MAAM,MAAM;IACjC,MAAM,SAAS,MAAM,UAAU;IAC/B,IAAI,CAAC,QAAQ;QACX,qBAAO,wXAAC;YAAI,WAAU;sBAAe;;;;;;IACvC;IACA,qBACE,wXAAC;QAAI,WAAU;;0BACb,wXAAC;gBAAI,WAAU;;kCACb,wXAAC;wBAAG,WAAU;kCAAyB,OAAO,KAAK;;;;;;kCACnD,wXAAC;wBAAE,WAAU;kCAAyB,OAAO,KAAK;;;;;;kCAClD,wXAAC;wBAAE,WAAU;kCAAsB,OAAO,WAAW;;;;;;;;;;;;0BAEvD,wXAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,wXAAC,2VAAQ;gBAAC,wBAAU,wXAAC;8BAAI;;;;;;0BACvB,cAAA,wXAAC;oBAAW,UAAU,OAAO,EAAE;;;;;;;;;;;;;;;;;AAIvC","debugId":null}}]
}