{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/api/learning/profiles/route.ts"],"sourcesContent":["'use server';\n\nimport postgres from 'postgres';\nimport { NextRequest } from 'next/server';\n\nconst sql = postgres(process.env.POSTGRES_URL || process.env.POSTGRES_URL_NON_POOLING!, {\n  ssl: process.env.POSTGRES_SSL === 'require' ? 'require' : undefined,\n});\n\nexport async function POST(req: NextRequest) {\n  try {\n    const body = await req.json();\n    const { user_id, preferred_difficulty, preferred_topics, learning_style, weekly_goal_hours, study_time_preference } = body;\n    if (!user_id) return Response.json({ error: 'user_id required' }, { status: 400 });\n    await sql`\n      INSERT INTO user_learning_profiles (user_id, preferred_difficulty, preferred_topics, learning_style, weekly_goal_hours, study_time_preference)\n      VALUES (${user_id}, ${preferred_difficulty ?? null}, ${sql.array(preferred_topics ?? [])}, ${learning_style ?? null}, ${weekly_goal_hours ?? null}, ${study_time_preference ?? null})\n      ON CONFLICT (user_id) DO UPDATE SET\n        preferred_difficulty = EXCLUDED.preferred_difficulty,\n        preferred_topics = EXCLUDED.preferred_topics,\n        learning_style = EXCLUDED.learning_style,\n        weekly_goal_hours = EXCLUDED.weekly_goal_hours,\n        study_time_preference = EXCLUDED.study_time_preference,\n        updated_at = NOW()\n    `;\n    return Response.json({ ok: true });\n  } catch (error) {\n    return Response.json({ error: (error as Error).message }, { status: 500 });\n  }\n}\n\n"],"names":[],"mappings":";;;;;AAEA;;;;AAGA,MAAM,MAAM,IAAA,qNAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAG;IACtF,KAAK,QAAQ,GAAG,CAAC,YAAY,KAAK,YAAY,YAAY;AAC5D;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,OAAO,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,cAAc,EAAE,iBAAiB,EAAE,qBAAqB,EAAE,GAAG;QACtH,IAAI,CAAC,SAAS,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;QAChF,MAAM,GAAG,CAAC;;cAEA,EAAE,QAAQ,EAAE,EAAE,wBAAwB,KAAK,EAAE,EAAE,IAAI,KAAK,CAAC,oBAAoB,EAAE,EAAE,EAAE,EAAE,kBAAkB,KAAK,EAAE,EAAE,qBAAqB,KAAK,EAAE,EAAE,yBAAyB,KAAK;;;;;;;;IAQtL,CAAC;QACD,OAAO,SAAS,IAAI,CAAC;YAAE,IAAI;QAAK;IAClC,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO,AAAC,MAAgB,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACF;;;IApBsB;;AAAA,2XAAA","debugId":null}}]
}