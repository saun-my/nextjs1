{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/saunmy/Desktop/nextjs1/nextjs1/app/api/learning/quiz/by-lesson/route.ts"],"sourcesContent":["'use server';\n\nimport postgres from 'postgres';\nimport { NextRequest } from 'next/server';\n\nconst sql = postgres(process.env.POSTGRES_URL || process.env.POSTGRES_URL_NON_POOLING!, {\n  ssl: process.env.POSTGRES_SSL === 'require' ? 'require' : undefined,\n});\n\nexport async function GET(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const lessonId = searchParams.get('lessonId');\n    if (!lessonId) return Response.json({ error: 'lessonId required' }, { status: 400 });\n    const rows = await sql`\n      SELECT id, lesson_id, prompt, choices\n      FROM quiz_questions WHERE lesson_id = ${lessonId}\n    `;\n    return Response.json(rows.map((r: any) => ({\n      id: r.id,\n      lesson_id: r.lesson_id,\n      prompt: r.prompt,\n      choices: r.choices,\n    })));\n  } catch (error) {\n    return Response.json({ error: (error as Error).message }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAGA,MAAM,MAAM,IAAA,qNAAQ,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,wBAAwB,EAAG;IACtF,KAAK,QAAQ,GAAG,CAAC,YAAY,KAAK,YAAY,YAAY;AAC5D;AAEO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,IAAI,CAAC,UAAU,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;QAClF,MAAM,OAAO,MAAM,GAAG,CAAC;;4CAEiB,EAAE,SAAS;IACnD,CAAC;QACD,OAAO,SAAS,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAW,CAAC;gBACzC,IAAI,EAAE,EAAE;gBACR,WAAW,EAAE,SAAS;gBACtB,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,OAAO;YACpB,CAAC;IACH,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO,AAAC,MAAgB,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACF;;;IAlBsB;;AAAA,2XAAA","debugId":null}}]
}